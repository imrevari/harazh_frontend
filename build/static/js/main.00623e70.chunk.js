(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){var n={"./ar":30,"./ar.js":30,"./az":31,"./az.js":31,"./bn":32,"./bn.js":32,"./cs":33,"./cs.js":33,"./de":34,"./de.js":34,"./dk":35,"./dk.js":35,"./el":36,"./el.js":36,"./es":37,"./es.js":37,"./fa":38,"./fa.js":38,"./fr":39,"./fr.js":39,"./hi":40,"./hi.js":40,"./hu":41,"./hu.js":41,"./id":42,"./id.js":42,"./it":43,"./it.js":43,"./ja":44,"./ja.js":44,"./jv":45,"./jv.js":45,"./ko":46,"./ko.js":46,"./my":47,"./my.js":47,"./nl":48,"./nl.js":48,"./pa-in":49,"./pa-in.js":49,"./pl":50,"./pl.js":50,"./pt":51,"./pt.js":51,"./ro":52,"./ro.js":52,"./ru":53,"./ru.js":53,"./sr":54,"./sr.js":54,"./th":55,"./th.js":55,"./tr":56,"./tr.js":56,"./uk":57,"./uk.js":57,"./uz":58,"./uz.js":58,"./vi":59,"./vi.js":59,"./zh-cn":60,"./zh-cn.js":60,"./zh-tw":61,"./zh-tw.js":61};function r(e){var t=s(e);return a(t)}function s(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=s,e.exports=r,r.id=100},112:function(e,t,a){},114:function(e,t,a){},115:function(e,t,a){},116:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(17),o=a.n(s),l=(a(79),a(80),a(119)),i=a(121),c=a(122),m=a(118),d=function(e){return r.a.createElement("div",null,r.a.createElement("h2",null,"\u0419\u043e\u0439\u043e\u043e\u043e\u0439! \u0428\u043e\u0441\u044c \u0441\u044f \u0441\u0442\u0430\u043b\u043e!"),r.a.createElement("hr",null),r.a.createElement("br",null),r.a.createElement("div",null,"\u0411i\u0437\u0443\u043d\u043e \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0432 \u0441\u044c\u043e\u043c\u0443:"),r.a.createElement("div",null,function(e){switch(e){case"Failed to execute 'btoa' on 'Window': The string to be encoded contains characters outside of the Latin1 range.":return"\u041b\u043e\u0433i\u043d \u0430\u0431\u043e/i \u043f\u0430\u0440\u043e\u043b\u044c \u043c\u043e\u0436 \u043b\u0438\u0448 \u043b\u0430\u0442\u0438\u043d\u0441\u044c\u043a\u0438\u043c\u0438 \u0431\u0443\u043a\u0432\u0430\u043c\u0438, \u043d\u0430\u0448\u0438\u043c\u0438 \u043d\u0435 \u043c\u043e\u0436";case"Network Error":return"\u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0437 \u0441\u0435\u0442\u0442\u044e! \u041c\u043e\u0436\u0435 \u0437\u0440\u043e\u0431\u0438 \u043b\u043e\u0433a\u0443\u0442 i \u043e\u043f\u044f\u0442\u044c \u0437\u0430\u0439\u0434\u0438";case"Request failed with status code 401":return"\u0414\u043e\u0441\u0442\u0443\u043f \u0417\u0430\u043f\u0440\u0435\u0449\u0451\u043d!!!! \u041c\u043e\u0436\u0435 \u0437\u0440\u043e\u0431\u0438 \u043b\u043e\u0433a\u0443\u0442 i \u043e\u043f\u044f\u0442\u044c \u0437\u0430\u0439\u0434\u0438";case"Request failed with status code 403":return"\u0422\u0438 \u0448\u043e\u0441\u044c \u043c\u0443\u0442\u0438\u0448!!!! \u0414\u043e\u0441\u0442\u0443\u043f \u0417\u0430\u043f\u0440\u0435\u0449\u0451\u043d!!!! \u0422\u0438 \u043d\u0435 \u0430\u0434\u043ci\u043d \u0430\u0431\u043e \u043d\u0435 \u0437\u0430\u043b\u043e\u0433i\u043d\u0438\u0432\u0441\u044f.";default:return e}}(e.text)),r.a.createElement("footer",{style:{textAlign:"right"}},r.a.createElement(m.a,{to:"/logout",style:"Request failed with status code 403"===e.text?{display:"none"}:{}}," logout ")))},u=function(e){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement("div",{className:"container"},r.a.createElement(m.a,{className:"navbar-brand",to:"/"},"\u0413\u0410\u0420\u0410\u0416 "),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarColor03","aria-controls":"navbarColor03","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarColor03"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(m.a,{className:"nav-link",to:"/login"},"\u0432\u0445\u043e\u0434"))))))},p=function(e){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement("div",{className:"container"},r.a.createElement(m.a,{className:"navbar-brand",to:"/"},"\u0413\u0410\u0420\u0410\u0416 - ADMIN"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarColor03","aria-controls":"navbarColor03","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarColor03"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(m.a,{className:"nav-link",to:"/"},"\u0417\u0430\u043a\u0430\u0437\u0438"),r.a.createElement(m.a,{className:"nav-link",to:"/customersPage"},"\u041a\u043bi\u0435\u043d\u0442\u0438"),r.a.createElement(m.a,{className:"nav-link",to:"/carsPage"},"\u041c\u0430\u0448\u0438\u043d\u0438"),r.a.createElement(m.a,{className:"nav-link",to:"/partsPage"},"\u0417\u0430\u043f\u0447\u0430\u0441\u0442i "),r.a.createElement(m.a,{className:"nav-link",to:"/worksPage"},"\u0420\u043e\u0431\u043e\u0442\u0438"),r.a.createElement(m.a,{className:"nav-link",to:"/usersPage"},"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043bi"),r.a.createElement(m.a,{className:"nav-link",to:"/logout"},"\u0412\u0438\u0439\u0442\u0438"))),r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",null,r.a.createElement(m.a,{className:"nav-link",to:"/myPage"},r.a.createElement("i",{className:""}),e.user))))))},h=function(e){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement("div",{className:"container"},r.a.createElement(m.a,{className:"navbar-brand",to:"/"},"\u0413\u0410\u0420\u0410\u0416 "),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarColor03","aria-controls":"navbarColor03","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarColor03"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(m.a,{className:"nav-link",to:"/mainPage"},"\u0417\u0430\u043a\u0430\u0437\u0438"),r.a.createElement(m.a,{className:"nav-link",to:"/customersPage"},"\u041a\u043bi\u0435\u043d\u0442\u0438"),r.a.createElement(m.a,{className:"nav-link",to:"/carsPage"},"\u041c\u0430\u0448\u0438\u043d\u0438"),r.a.createElement(m.a,{className:"nav-link",to:"/logout"},"\u0412\u0438\u0439\u0442\u0438"))),r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",null,r.a.createElement(m.a,{className:"nav-link",to:"/myPage"},r.a.createElement("i",{className:"fas fa-shopping-cart"})," \u041c\u043eii \u0434\u0430\u043d\u043di - ",e.user))))))},b=a(1),f=a(18),v=a(3),E=a(4),g=a(6),y=a(5),O=a(7),w=a(9),N=a.n(w),j=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(g.a)(this,Object(y.a)(t).call(this,e))).state={email:{value:"",isValid:!0,message:""},password:{value:"",isValid:!0,message:""},registrationSaved:{value:!1,isValid:!0,message:""}},a.inputChangeHandler=function(e){var t={};t.value=e.target.value,t.isValid=!0,a.setState(Object(f.a)({},e.target.name,t))},a.validationHandler=function(e){var t=Object(b.a)({},a.state);for(var n in a.state){var r=Object(b.a)({},t[n]);r.isValid=!0,r.message="",t[n]=r}var s=!0,o=!1,l=void 0;try{for(var i,c=e.fieldErrors[Symbol.iterator]();!(s=(i=c.next()).done);s=!0){var m=i.value,d=Object(b.a)({},t[m.field]);d.isValid=!1,d.message=m.message,t[m.field]=d}}catch(u){o=!0,l=u}finally{try{s||null==c.return||c.return()}finally{if(o)throw l}}a.setState(t)},a.postDataHandler=function(e){e.preventDefault();var t={};for(var n in a.state)t[n]=a.state[n].value;N.a.get("/users/me",{auth:{username:a.state.email.value,password:a.state.password.value}}).then(function(e){localStorage.setItem("user",JSON.stringify(e.data)),a.props.history.push("/")}).catch(function(e){if(e.response&&401===e.response.status){a.validationHandler({fieldErrors:[{field:"email",message:"\u041d\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043di \u043b\u043e\u0433i\u043d i \u043f\u0430\u0440\u043e\u043b\u044c"},{field:"password",message:"\u041d\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043di \u043b\u043e\u0433i\u043d i \u043f\u0430\u0440\u043e\u043b\u044c"}]})}else a.setState(function(){throw e})})},document.title="Login",a}return Object(O.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){JSON.parse(localStorage.getItem("user"))&&this.props.history.push("/")}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"\u0412\u0445\u043e\u0434 \u0443 \u0441\u0438\u0441\u0442\u0435\u043c\u0443"),r.a.createElement("hr",null),r.a.createElement("br",null),r.a.createElement("form",{onSubmit:this.postDataHandler},r.a.createElement("div",{className:"login-block"},r.a.createElement("label",{className:this.state.email.isValid?"control-label input-label":"control-label input-label invalid-label"},"I\u043c'\u044f:"),r.a.createElement("input",{className:this.state.email.isValid?this.state.registrationSaved.value?"form-control my-input-login-field is-saved":"form-control my-input-login-field":"form-control my-input-login-field is-invalid",type:"text",name:"email",value:this.state.email.value,onChange:this.inputChangeHandler}),r.a.createElement("span",{className:"form-text invalid-feedback"},this.state.email.message)),r.a.createElement("div",{className:"login-block"},r.a.createElement("label",{className:this.state.password.isValid?"control-label input-label":"control-label input-label invalid-label"},"\u041f\u0430\u0440\u043e\u043b\u044c:"),r.a.createElement("input",{className:this.state.password.isValid?"form-control my-input-login-field":"form-control my-input-login-field is-invalid",type:"password",name:"password",value:this.state.password.value,onChange:this.inputChangeHandler}),r.a.createElement("br",null),r.a.createElement("div",{className:"category-saved"},this.state.registrationSaved.value&&"Registration was successful"),r.a.createElement("span",{className:"form-text invalid-feedback"},this.state.password.message)),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-success my-button",type:"submit"},"Login")),r.a.createElement("br",null),r.a.createElement("br",null)))}}]),t}(n.Component),C=a(2),k=a.n(C),S=function(e){function t(){return Object(v.a)(this,t),Object(g.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return r.a.createElement("tr",null,r.a.createElement("td",{className:""}," ",this.props.id," "),r.a.createElement("td",{className:""}," ",this.props.car," "),r.a.createElement("td",{className:""}," ",this.props.name," "),r.a.createElement("td",{className:""}," ",k.a.format(new Date(this.props.opened),"DD. MM. YYYY. - HH:mm")," "),r.a.createElement("td",{className:"",style:this.props.isClosed?{}:{display:"none"}}," ",k.a.format(new Date(this.props.closed),"DD. MM. YYYY. - HH:mm")," "),r.a.createElement("td",{className:""}," ",this.props.total.toLocaleString(void 0,{maximumFractionDigits:2})),r.a.createElement("td",{className:""}," ",r.a.createElement("button",{onClick:this.props.details},"\u0414\u0435\u0442\u0430\u043bi")," "))}}]),t}(n.Component),I=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(g.a)(this,Object(y.a)(t).call(this,e))).state={incoming:[]},a.getLastTenOrders=function(){N.a.get("/orders/").then(function(e){a.setState({incoming:e.data})}).catch(function(e){a.setState(function(){throw e})})},a.totalToPay=function(e,t,a){var n=0;return n-=a,e.map(function(e){return e.workDone&&(n+=e.price),n}),t.map(function(e){return n+=e.retailPrice*e.amount}),n},a.openOrder=function(e){a.props.history.push("/order/"+e)},document.title="Home",a}return Object(O.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.getLastTenOrders()}},{key:"render",value:function(){var e=this,t=this.state.incoming.map(function(t){return r.a.createElement(S,{key:t.id,id:t.id,opened:t.orderOpened,details:function(){return e.openOrder(t.id)},total:e.totalToPay(t.works,t.partCounts,t.amountPayedInAdvance),car:t.car.carMade,name:t.customer.firstName+" "+t.customer.lastName})}),a=r.a.createElement("table",{border:"1"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:""},"\u041d\u043e\u043c\u0435\u0440 "),r.a.createElement("th",{className:""},"\u041c\u0430\u0448\u0438\u043d\u0430 "),r.a.createElement("th",{className:""},"\u041a\u043bi\u0435\u043d\u0442 "),r.a.createElement("th",{className:""},"\u041e\u0434\u043a\u0440\u0438\u0442\u0438\u0439 "),r.a.createElement("th",{className:""},"\u0414\u043e\u0432\u0433 "),r.a.createElement("th",{className:""},"\u0414\u0435\u0442\u0430\u043bi"))),r.a.createElement("tbody",null,t));return r.a.createElement("div",null,r.a.createElement("h1",null,"\u0413\u043b\u0430\u0432\u043d\u0435 \u043c\u0435\u043d\u044e \u0430\u0434\u043ci\u043d\u0430"),r.a.createElement("hr",null),r.a.createElement("div",null,r.a.createElement(m.a,{to:"/"},r.a.createElement("button",{className:"btn-info my-button"},"\u041d\u0430\u0439\u0442\u0438 \u0437\u0430\u043a\u0430\u0437"))),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(m.a,{to:"/"},r.a.createElement("button",{className:"btn-info my-button"},"\u041d\u0430\u0439\u0442\u0438 \u043a\u043bi\u0435\u043d\u0442\u0430")),r.a.createElement(m.a,{to:"/newCustomer"},r.a.createElement("button",{className:"btn-success my-button"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u0438 \u043a\u043bi\u0435\u043d\u0442\u0430"))),r.a.createElement("hr",null),a)}}]),t}(n.Component),P=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(g.a)(this,Object(y.a)(t).call(this,e))).state={incoming:[]},a.getLastTenOrders=function(){N.a.get("/orders/").then(function(e){a.setState({incoming:e.data})}).catch(function(e){a.setState(function(){throw e})})},a.totalToPay=function(e,t,a){var n=0;return n-=a,e.map(function(e){return e.workDone&&(n+=e.price),n}),t.map(function(e){return n+=e.retailPrice*e.amount}),n},a.openOrder=function(e){a.props.history.push("/order/"+e)},document.title="\u0420\u043e\u0431\u043e\u0442\u0430 - \u0413 \u0430 \u0440 \u0430 \u0436",a}return Object(O.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.getLastTenOrders()}},{key:"render",value:function(){var e=this,t=this.state.incoming.map(function(t){return r.a.createElement(S,{key:t.id,id:t.id,opened:t.orderOpened,details:function(){return e.openOrder(t.id)},total:e.totalToPay(t.works,t.partCounts,t.amountPayedInAdvance),car:t.car.carMade,name:t.customer.firstName+" "+t.customer.lastName})}),a=r.a.createElement("table",{border:"1"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:""},"\u041d\u043e\u043c\u0435\u0440 "),r.a.createElement("th",{className:""},"\u041c\u0430\u0448\u0438\u043d\u0430 "),r.a.createElement("th",{className:""},"\u041a\u043bi\u0435\u043d\u0442 "),r.a.createElement("th",{className:""},"\u041e\u0434\u043a\u0440\u0438\u0442\u0438\u0439 "),r.a.createElement("th",{className:""},"\u0414\u043e\u0432\u0433 "),r.a.createElement("th",{className:""},"\u0414\u0435\u0442\u0430\u043bi"))),r.a.createElement("tbody",null,t));return r.a.createElement("div",null,r.a.createElement("h1",null,"\u0413\u043b\u0430\u0432\u043d\u0435 \u043c\u0435\u043d\u044e"),r.a.createElement("hr",null),r.a.createElement("div",null,r.a.createElement(m.a,{to:"/"},r.a.createElement("button",{className:"btn-info my-button"},"\u041d\u0430\u0439\u0442\u0438 \u0437\u0430\u043a\u0430\u0437")),r.a.createElement(m.a,{to:"/newOrder"},r.a.createElement("button",{className:" btn-success my-button"},"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0437\u0430\u043a\u0430\u0437"))),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(m.a,{to:"/"},r.a.createElement("button",{className:"btn-info my-button"},"\u041d\u0430\u0439\u0442\u0438 \u043a\u043bi\u0435\u043d\u0442\u0430")),r.a.createElement(m.a,{to:"/newCustomer"},r.a.createElement("button",{className:"btn-success my-button"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u0438 \u043a\u043bi\u0435\u043d\u0442\u0430"))),r.a.createElement("hr",null),a)}}]),t}(n.Component),L=a(71),x=function(e){function t(e){var a;return Object(v.a)(this,t),a=Object(g.a)(this,Object(y.a)(t).call(this,e)),document.title="Logged out",a}return Object(O.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this;N.a.post("/logout").then(function(t){localStorage.removeItem("user"),e.props.history.push("/"),L.NotificationManager.error(JSON.parse(t.data).message)}).catch(function(t){localStorage.removeItem("user"),e.setState(function(){throw t})})}},{key:"render",value:function(){return null}}]),t}(n.Component),F=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(g.a)(this,Object(y.a)(t).call(this,e))).state={newCustomerForm:{firstName:{value:"",isValid:!0,message:""},lastName:{value:"",isValid:!0,message:""},telNumber:{value:"",isValid:!0,message:""},email:{value:"",isValid:!0,message:""}}},a.inputChangeHandler=function(e){var t,n=e.target,r=Object(b.a)({},a.state.newCustomerForm),s=Object(b.a)({},r[n.name]);t=n.value,s.value=t,s.isValid=!0,r[n.name]=s,a.setState(Object(b.a)({},a.state,{newCustomerForm:r}))},a.postDataHandler=function(e){e.preventDefault();var t={};for(var n in a.state.newCustomerForm)t[n]=a.state.newCustomerForm[n].value;var r="/",s="post",o=a.props.match.params.id,l=a.props.match.params.car;o&&(r+=o,s="put",t[o]=o),l?N()({method:s,url:r,data:t}).then(function(e){a.props.history.push("/newOrder/"+e.data.id+"/"+l),setTimeout(a.hideMessage,1500)}).catch(function(e){e.response.data.hasOwnProperty("fieldErrors")?a.validationHandler(e):a.setState(function(){throw e})}):N()({method:s,url:r,data:t}).then(function(){a.setState({newCustomerForm:{firstName:{value:"",isValid:!0,message:""},lastName:{value:"",isValid:!0,message:""},telNumber:{value:"",isValid:!0,message:""},email:{value:"",isValid:!0,message:""}}})}).then(function(){a.props.history.push("/customerList"),setTimeout(a.hideMessage,1500)}).catch(function(e){e.response.data.hasOwnProperty("fieldErrors")?a.validationHandler(e):a.setState(function(){throw e})})},a.hideMessage=function(){a.setState(Object(b.a)({},a.state,{emailSent:!1}))},a.validationHandler=function(e){var t=Object(b.a)({},a.state.newCustomerForm);for(var n in a.state.newCustomerForm){var r=Object(b.a)({},t[n]);r.isValid=!0,r.message="",t[n]=r}if(e.response.data.hasOwnProperty("fieldErrors")){var s=!0,o=!1,l=void 0;try{for(var i,c=e.response.data.fieldErrors[Symbol.iterator]();!(s=(i=c.next()).done);s=!0){var m=i.value,d=Object(b.a)({},t[m.field]);d.isValid=!1,d.message=m.message,t[m.field]=d}}catch(u){o=!0,l=u}finally{try{s||null==c.return||c.return()}finally{if(o)throw l}}a.setState(Object(b.a)({},a.state,{newCustomerForm:t}))}else a.setState(Object(b.a)({},a.state,{newCustomerForm:{firstName:{value:"",isValid:!1,message:"Please don't mess with my input fields"}}}))},a.getCustomerByParamsId=function(){N.a.get("/"+a.props.match.params.id).then(function(e){var t=Object(b.a)({},a.state.newCustomerForm);for(var n in e.data){var r=Object(b.a)({},t[n]);r.value=e.data[n],t[n]=r}a.setState(Object(b.a)({},a.state,{newCustomerForm:t}))}).catch(function(e){a.setState(function(){throw e})})},document.title="\u041d\u043e\u0432\u0438\u0439 \u041a\u043bi\u0435\u043d\u0442 - \u0413 \u0430 \u0440 \u0430 \u0436",a}return Object(O.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.props.match.params.id&&this.getCustomerByParamsId()}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h2",null," ",null!=this.props.match.params.id?"\u0417\u043ci\u043d\u0438\u0442\u0438":"\u041d\u043e\u0432\u0438\u0439"," \u041a\u043bi\u0435\u043d\u0442",null!=this.props.match.params.id?"\u0430":""),r.a.createElement("hr",null),r.a.createElement("br",null),r.a.createElement("form",{onSubmit:this.postDataHandler},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:this.state.newCustomerForm.firstName.isValid?"control-label input-label":"control-label input-label invalid-label"},"I\u043c'\u044f:"),r.a.createElement("input",{className:this.state.newCustomerForm.firstName.isValid?"form-control my-input-field":"form-control my-input-field is-invalid",name:"firstName",value:this.state.newCustomerForm.firstName.value,onChange:this.inputChangeHandler}),r.a.createElement("span",{className:"form-text invalid-feedback"},this.state.newCustomerForm.firstName.message)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:this.state.newCustomerForm.lastName.isValid?"control-label input-label":"control-label input-label invalid-label"},"\u0424\u0430\u043ci\u043bi\u044f:"),r.a.createElement("input",{className:this.state.newCustomerForm.lastName.isValid?"form-control my-input-field":"form-control my-input-field is-invalid",name:"lastName",value:this.state.newCustomerForm.lastName.value,onChange:this.inputChangeHandler}),r.a.createElement("span",{className:"form-text invalid-feedback"},this.state.newCustomerForm.lastName.message)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:this.state.newCustomerForm.telNumber.isValid?"control-label input-label":"control-label input-label invalid-label"},"\u0422\u0435\u043b.:"),r.a.createElement("input",{className:this.state.newCustomerForm.telNumber.isValid?"form-control my-input-field":"form-control my-input-field is-invalid",id:"telNumber",name:"telNumber",value:this.state.newCustomerForm.telNumber.value,onChange:this.inputChangeHandler}),r.a.createElement("span",{className:"form-text invalid-feedback"},this.state.newCustomerForm.telNumber.message)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:this.state.newCustomerForm.email.isValid?"control-label input-label":"control-label input-label invalid-label"},"email:"),r.a.createElement("input",{className:this.state.newCustomerForm.email.isValid?"form-control my-input-field":"form-control my-input-field is-invalid",type:"email",id:"email",name:"email",value:this.state.newCustomerForm.email.value,onChange:this.inputChangeHandler}),r.a.createElement("span",{className:"form-text invalid-feedback"},this.state.newCustomerForm.email.message)),r.a.createElement("br",null),r.a.createElement("button",{className:"btn btn-info my-button",type:"submit",key:"submit"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u0438"),r.a.createElement("button",{className:" btn btn-danger my-button",key:"cancel",type:"button",onClick:this.props.history.goBack},"\u041e\u0442\u043c\u0435\u043d\u0430")))}}]),t}(n.Component),M=a(21),D=a(120),V=function(e){var t=e.component,a=Object(M.a)(e,["component"]);return r.a.createElement(c.a,Object.assign({},a,{render:function(e){return JSON.parse(localStorage.getItem("user"))?r.a.createElement(t,e):r.a.createElement(D.a,{to:"/login"})}}))},T=function(e){var t=e.component,a=Object(M.a)(e,["component"]);return r.a.createElement(c.a,Object.assign({},a,{render:function(e){var a=JSON.parse(localStorage.getItem("user"));return a?"ROLE_ADMIN"===a.role?r.a.createElement(t,e):r.a.createElement(D.a,{to:"/mainPage"}):r.a.createElement(D.a,{to:"/login"})}}))},W=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(g.a)(this,Object(y.a)(t).call(this,e))).state={newPartForm:{name:{value:"",isValid:!0,message:""},description:{value:"",isValid:!0,message:""},retailPrice:{value:"",isValid:!0,message:""},purchasePrice:{value:"",isValid:!0,message:""}}},a.inputChangeHandler=function(e){var t,n=e.target,r=Object(b.a)({},a.state.newPartForm),s=Object(b.a)({},r[n.name]);t=n.value,s.value=t,s.isValid=!0,r[n.name]=s,a.setState(Object(b.a)({},a.state,{newPartForm:r}))},a.postDataHandler=function(e){e.preventDefault();var t={};for(var n in a.state.newPartForm)t[n]=a.state.newPartForm[n].value;var r="/parts",s="post",o=a.props.match.params.id;o&&(r+="/"+o,s="put"),N()({method:s,url:r,data:t}).then(function(){a.setState({newPartForm:{name:{value:"",isValid:!0,message:""},description:{value:"",isValid:!0,message:""},retailPrice:{value:"",isValid:!0,message:""},purchasePrice:{value:"",isValid:!0,message:""}}})}).then(function(){a.props.history.push("/partsList"),setTimeout(a.hideMessage,1500)}).catch(function(e){e.response.data.hasOwnProperty("fieldErrors")?a.validationHandler(e):a.setState(function(){throw e})})},a.hideMessage=function(){},a.validationHandler=function(e){var t=Object(b.a)({},a.state.newPartForm);for(var n in a.state.newPartForm){var r=Object(b.a)({},t[n]);r.isValid=!0,r.message="",t[n]=r}if(e.response.data.hasOwnProperty("fieldErrors")){var s=!0,o=!1,l=void 0;try{for(var i,c=e.response.data.fieldErrors[Symbol.iterator]();!(s=(i=c.next()).done);s=!0){var m=i.value,d=Object(b.a)({},t[m.field]);d.isValid=!1,d.message=m.message,t[m.field]=d}}catch(u){o=!0,l=u}finally{try{s||null==c.return||c.return()}finally{if(o)throw l}}a.setState(Object(b.a)({},a.state,{newPartForm:t}))}else a.setState(Object(b.a)({},a.state,{newPartForm:{name:{value:"",isValid:!1,message:"Please don't mess with my input fields"}}}))},a.getPartByParamsId=function(){N.a.get("/parts/id/"+a.props.match.params.id).then(function(e){var t=Object(b.a)({},a.state.newPartForm);for(var n in e.data){var r=Object(b.a)({},t[n]);r.value=e.data[n],t[n]=r}a.setState(Object(b.a)({},a.state,{newPartForm:t}))}).catch(function(e){a.setState(function(){throw e})})},document.title="\u041d\u043e\u0432\u0430 \u0437\u0430\u043f\u0447\u0430\u0441\u0442\u044c - \u0413 \u0430 \u0440 \u0430 \u0436",a}return Object(O.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.props.match.params.id&&this.getPartByParamsId()}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h2",null," ",null!=this.props.match.params.id?"\u0417\u043ci\u043d\u0438\u0442\u0438":"\u041d\u043e\u0432\u0430","  \u0417\u0430\u043f\u0447\u0430\u0441\u0442\u044c"),r.a.createElement("hr",null),r.a.createElement("br",null),r.a.createElement("form",{onSubmit:this.postDataHandler},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:this.state.newPartForm.name.isValid?"control-label input-label":"control-label input-label invalid-label"},"\u041d\u0430\u0437\u0432\u0430 \u0437\u0430\u043f\u0447\u0430\u0441\u0442i:"),r.a.createElement("input",{className:this.state.newPartForm.name.isValid?"form-control my-input-field":"form-control my-input-field is-invalid",name:"name",value:this.state.newPartForm.name.value,onChange:this.inputChangeHandler}),r.a.createElement("span",{className:"form-text invalid-feedback"},this.state.newPartForm.name.message)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:this.state.newPartForm.description.isValid?"control-label textarea-lable":"control-label input-label invalid-label"},"\u041e\u043f\u0438\u0441\u0430\u043di\u0435:"),r.a.createElement("textarea",{className:"my-textarea",type:"text",name:"description",value:this.state.newPartForm.description.value,onChange:this.inputChangeHandler}),r.a.createElement("span",{className:"form-text invalid-feedback"},this.state.newPartForm.description.message)),r.a.createElement("div",{className:"form-group "},r.a.createElement("label",{className:this.state.newPartForm.retailPrice.isValid?"control-label input-label":"control-label input-label invalid-label"},"\u041f\u0440\u043e\u0434\u0430\u0436\u043d\u0430 \u0446i\u043d\u0430:"),r.a.createElement("input",{className:this.state.newPartForm.retailPrice.isValid?"form-control my-input-field":"form-control my-input-field is-invalid",type:"number",step:"0.01",min:"0.01",id:"retailPrice",name:"retailPrice",value:this.state.newPartForm.retailPrice.value,onChange:this.inputChangeHandler}),r.a.createElement("span",{className:"form-text invalid-feedback"},this.state.newPartForm.retailPrice.message)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:this.state.newPartForm.purchasePrice.isValid?"control-label input-label":"control-label input-label invalid-label"},"\u0417\u0430\u043a\u0443\u043f\u043e\u0447\u043d\u0430 \u0446\u044b\u043d\u0430:"),r.a.createElement("input",{className:this.state.newPartForm.purchasePrice.isValid?"form-control my-input-field":"form-control my-input-field is-invalid",type:"number",step:"0.01",min:"0.01",id:"purchasePrice",name:"purchasePrice",value:this.state.newPartForm.purchasePrice.value,onChange:this.inputChangeHandler}),r.a.createElement("span",{className:"form-text invalid-feedback"},this.state.newPartForm.purchasePrice.message)),r.a.createElement("br",null),r.a.createElement("button",{className:"btn btn-info my-button",type:"submit",key:"submit"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u0438"),r.a.createElement("button",{className:" btn btn-danger my-button",key:"cancel",type:"button",onClick:this.props.history.goBack},"\u041e\u0442\u043c\u0435\u043d\u0430")))}}]),t}(n.Component),B=function(e){function t(e){var a;return Object(v.a)(this,t),a=Object(g.a)(this,Object(y.a)(t).call(this,e)),document.title="\u0420\u043e\u0431\u043e\u0442\u0430 - \u0413 \u0430 \u0440 \u0430 \u0436",a}return Object(O.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"\u0417\u0430\u043f\u0447\u0430\u0441\u0442\u044b"),r.a.createElement("div",null,r.a.createElement(m.a,{to:"/addPart"},r.a.createElement("button",{className:"btn-success my-button"},"\u0421\u0432\u0442\u043e\u0440\u0438\u0442\u0438 \u0437\u0430\u043f\u0447\u0430\u0441\u0442\u044c"))),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(m.a,{to:"/partsList"},r.a.createElement("button",{className:" btn-success my-button "},"\u0421\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u043f\u0447\u0430\u0441\u0442\u0435\u0439"))),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(m.a,{to:"/"},r.a.createElement("button",{className:" btn-success my-button "},"\u041d\u0430\u0439\u0442\u0438 \u0437\u0430\u043f\u0447\u0430\u0441\u0442\u044c"))))}}]),t}(n.Component),R=a(10),H=(a(16),function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(g.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).state={showDetails:!1},a.showOrHide=function(){var e=a.state.showDetails;a.setState(Object(b.a)({},a.state,{showDetails:!e}))},a}return Object(O.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return r.a.createElement("table",{border:"1"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"n",onClick:this.showOrHide},this.props.name),r.a.createElement("td",{className:"p",onClick:this.showOrHide},this.props.price),r.a.createElement("td",{className:"edit",style:"ROLE_USER"===this.props.juser.role?{display:"none"}:{}}," ",r.a.createElement("button",{onClick:this.props.edit},"I\u0437\u043ci\u043d\u0438\u0442\u0438")," "),r.a.createElement("td",{className:"delete",style:"ROLE_USER"===this.props.juser.role?{display:"none"}:{}}," ",r.a.createElement("button",{onClick:this.props.delete},"\u0423\u0434\u0430\u043b\u0438\u0442\u0438")," "),r.a.createElement("td",{className:"add",style:"ROLE_USER"===this.props.juser.role?{}:{display:"none"}},r.a.createElement("button",{onClick:this.props.add},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u0438")," ")),r.a.createElement("tr",{className:this.state.showDetails?"":"toHide"},r.a.createElement("td",{colSpan:"ROLE_USER"===this.props.juser.role?"3":"4"}," ",this.props.desc))))}}]),t}(n.Component)),U=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(g.a)(this,Object(y.a)(t).call(this,e))).left="<<<",a.right=">>>",a.state={sorted:"",incoming:[],sortedFilteredList:[],fileteredBy:"",itemsToShow:10,beginIndex:0,endIndex:10},a.editPart=function(e){a.props.history.push("/editPart/"+e)},a.deletePart=function(e){console.log("deleting "+e)},a.addPart=function(e){a.props.history.push("/addCarPartCout/"+a.props.match.params.id+"/"+e)},a.sortMyList=function(e){var t=Object(R.a)(a.state.sortedFilteredList);if("name"===e&&(""===a.state.sorted||"desc"===a.state.sorted)){var n=t.sort(function(e,t){return e.name.toLowerCase()>t.name.toLowerCase()?1:-1});a.setState(Object(b.a)({},a.state,{sorted:"asc",sortedFilteredList:n}))}if("name"===e&&"asc"===a.state.sorted){var r=t.sort(function(e,t){return e.name.toLowerCase()<t.name.toLowerCase()?1:-1});a.setState(Object(b.a)({},a.state,{sorted:"desc",sortedFilteredList:r}))}if("retailPrice"===e&&(""===a.state.sorted||"desc"===a.state.sorted)){var s=t.sort(function(e,t){return e.retailPrice>t.retailPrice?1:-1});a.setState(Object(b.a)({},a.state,{sorted:"asc",sortedFilteredList:s}))}if("retailPrice"===e&&"asc"===a.state.sorted){var o=t.sort(function(e,t){return e.retailPrice<t.retailPrice?1:-1});a.setState(Object(b.a)({},a.state,{sorted:"desc",sortedFilteredList:o}))}},a.filterMyList=function(e){var t,n=e.target;t=n.value;var r=Object(R.a)(a.state.incoming).filter(function(e){return e.name.includes(t)||e.name.toLowerCase().includes(t)||e.name.toUpperCase().includes(t)}),s=[a.state.itemsToShow];a.setState(Object(b.a)({},a.state,{fileteredBy:t,sortedFilteredList:r,endIndex:r.length<s?r.length:s}))},a.changeListSize=function(e){var t;t=e.target.value;var n=a.state.sortedFilteredList.length,r=[a.state.beginIndex],s=parseInt(n),o=parseInt(r)+parseInt(t);""!==t&&o<s?a.setState(Object(b.a)({},a.state,{itemsToShow:t,endIndex:o})):""!==t&&o>s?a.setState(Object(b.a)({},a.state,{itemsToShow:t,endIndex:s})):a.setState(Object(b.a)({},a.state,{itemsToShow:t}))},a.paginatorLeft=function(){var e=[a.state.beginIndex],t=[a.state.endIndex],n=[a.state.itemsToShow],r=parseInt(e),s=parseInt(t),o=parseInt(n);(r=(s=r)-o)<=0?a.setState(Object(b.a)({},a.state,{beginIndex:0,endIndex:o})):a.setState(Object(b.a)({},a.state,{beginIndex:r,endIndex:s}))},a.paginatorRight=function(){var e=a.state.sortedFilteredList.length,t=[a.state.beginIndex],n=[a.state.endIndex],r=[a.state.itemsToShow],s=parseInt(t),o=parseInt(n),l=parseInt(r),i=parseInt(e);if(s+=l,(o+=l)<=i)a.setState(Object(b.a)({},a.state,{beginIndex:s,endIndex:o}));else if(o>=i&&s<i){var c=[a.state.endIndex],m=parseInt(c);a.setState(Object(b.a)({},a.state,{beginIndex:m,endIndex:i}))}},a.getParts=function(){N.a.get("/parts").then(function(e){a.setState({incoming:e.data,sortedFilteredList:e.data})}).catch(function(e){a.setState(function(){throw e})})},document.title="\u0417\u0430\u043f\u0447\u0430\u0441\u0442i - \u0413 \u0430 \u0440 \u0430 \u0436",a}return Object(O.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.getParts()}},{key:"render",value:function(){var e=this,t=JSON.parse(localStorage.getItem("user")),a=this.state.sortedFilteredList.slice(this.state.beginIndex,this.state.endIndex).map(function(a){return r.a.createElement(H,{key:a.id,name:a.name,desc:a.description,price:a.retailPrice,edit:function(){return e.editPart(a.id)},delete:function(){return e.deletePart(a.id)},juser:t,add:function(){return e.addPart(a.id)}})}),n=r.a.createElement("table",{border:"1"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"n",onClick:function(){return e.sortMyList("name")}},"\u041d\u0430\u0437\u0432\u0430 \u21c5"),r.a.createElement("th",{className:"p",onClick:function(){return e.sortMyList("retailPrice")}},"\u0446i\u043d\u0430 \u21c5"),r.a.createElement("th",{className:"edit",style:"ROLE_USER"===t.role?{display:"none"}:{}}),r.a.createElement("th",{className:"delete",style:"ROLE_USER"===t.role?{display:"none"}:{}}),r.a.createElement("th",{className:"add",style:"ROLE_USER"===t.role?{}:{display:"none"}}))),r.a.createElement("tbody",null));return r.a.createElement("div",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("div",null,r.a.createElement("input",{className:"form-control my-input-search-field",name:"fileteredBy",value:this.state.fileteredBy,onChange:this.filterMyList,placeholder:"Find By"}),r.a.createElement("strong",null,"       "),r.a.createElement("label",{className:"control-label input-search-label"},"\u041f\u043e\u043a\u0430\u0437\u0443\u0432\u0430\u0442\u0438:"),r.a.createElement("input",{className:"form-control my-input-paginator-field ",name:"itemsToShow",type:"number",min:"1",step:"1",value:this.state.itemsToShow,onChange:this.changeListSize}))),n,a,r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("strong",{onClick:this.paginatorLeft},this.left,"     "),r.a.createElement("strong",null,this.state.beginIndex+1," - ",this.state.endIndex),r.a.createElement("strong",{onClick:this.paginatorRight},"     ",this.right),r.a.createElement("br",null)))}}]),t}(n.Component),A=(a(69),function(e){function t(){return Object(v.a)(this,t),Object(g.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return r.a.createElement("tr",null,r.a.createElement("td",{className:"name"},this.props.name),r.a.createElement("td",{className:"telNumber"},this.props.telNumber),r.a.createElement("td",{className:"edite",style:"ROLE_USER"===this.props.juser.role?{display:"none"}:{}}," ",r.a.createElement("button",{onClick:this.props.edit},"I\u0437\u043ci\u043d\u0438\u0442\u0438")," "),r.a.createElement("td",{className:"delete",style:"ROLE_USER"===this.props.juser.role?{display:"none"}:{}}," ",r.a.createElement("button",{onClick:this.props.delete},"\u0423\u0434\u0430\u043b\u0438\u0442\u0438")," "),r.a.createElement("td",{className:"add",style:"ROLE_USER"===this.props.juser.role?void 0===this.props.car?{display:"none"}:{}:{display:"none"}},"  ",r.a.createElement("button",{onClick:this.props.add},"\u0414\u043e\u0434\u0430\u0442\u0438")," "),r.a.createElement("td",{className:"create",style:"ROLE_USER"===this.props.juser.role&&void 0===this.props.car?{}:{display:"none"}},"  ",r.a.createElement("button",{onClick:this.props.create},"\u041d\u043e\u0432\u0438\u0439 \u0437\u0430\u043a\u0430\u0437")," "),r.a.createElement("td",{className:"allOrders",style:void 0===this.props.car?{}:{display:"none"}},"  ",r.a.createElement("button",{onClick:this.props.allOrders},"\u041f\u0440\u0435\u0434\u0438\u0434\u0443\u0449i \u0437\u0430\u043a\u0430\u0437\u0438")," "))}}]),t}(n.Component)),_=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(g.a)(this,Object(y.a)(t).call(this,e))).left="<<<",a.right=">>>",a.state={sorted:"",incoming:[],sortedFilteredList:[],fileteredBy:"",itemsToShow:10,beginIndex:0,endIndex:10},a.editCustomer=function(e){a.props.history.push("/editCustomer/"+e)},a.deleteCustomer=function(e){console.log("deleting "+e)},a.addCustomer=function(e){a.props.history.push("/newOrder/"+e+"/"+a.props.match.params.car)},a.createOrder=function(e){a.props.history.push("/newOrder/"+e+"/0")},a.allOrders=function(e){a.props.history.push("/openOrder/x/"+e)},a.sortMyList=function(){var e=Object(R.a)(a.state.sortedFilteredList);if(""===a.state.sorted||"desc"===a.state.sorted){var t=e.sort(function(e,t){return e.lastName.toLowerCase()>t.lastName.toLowerCase()?1:-1});a.setState(Object(b.a)({},a.state,{sorted:"asc",sortedFilteredList:t}))}if("asc"===a.state.sorted){var n=e.sort(function(e,t){return e.lastName.toLowerCase()<t.lastName.toLowerCase()?1:-1});a.setState(Object(b.a)({},a.state,{sorted:"desc",sortedFilteredList:n}))}},a.filterMyList=function(e){var t,n=e.target,r=(t=n.value).split(" ",3),s=r[0],o=r[1],l=Object(R.a)(a.state.incoming).filter(function(e){return e.firstName.includes(t)||e.firstName.toLowerCase().includes(t)||e.firstName.toUpperCase().includes(t)||e.lastName.includes(t)||e.lastName.toLowerCase().includes(t)||e.lastName.toUpperCase().includes(t)||e.firstName.includes(o)&&e.lastName.includes(s)||e.firstName.toLowerCase().includes(o)&&e.lastName.toLowerCase().includes(s)||e.firstName.toUpperCase().includes(o)&&e.lastName.toUpperCase().includes(s)||e.firstName.includes(s)&&e.lastName.includes(o)||e.firstName.toLowerCase().includes(s)&&e.lastName.toLowerCase().includes(o)||e.firstName.toUpperCase().includes(s)&&e.lastName.toUpperCase().includes(o)}),i=[a.state.itemsToShow];a.setState(Object(b.a)({},a.state,{fileteredBy:t,sortedFilteredList:l,endIndex:l.length<i?l.length:i}))},a.changeListSize=function(e){var t;t=e.target.value;var n=a.state.sortedFilteredList.length,r=[a.state.beginIndex],s=parseInt(n),o=parseInt(r)+parseInt(t);""!==t&&o<s?a.setState(Object(b.a)({},a.state,{itemsToShow:t,endIndex:o})):""!==t&&o>s?a.setState(Object(b.a)({},a.state,{itemsToShow:t,endIndex:s})):a.setState(Object(b.a)({},a.state,{itemsToShow:t}))},a.paginatorLeft=function(){var e=[a.state.beginIndex],t=[a.state.endIndex],n=[a.state.itemsToShow],r=parseInt(e),s=parseInt(t),o=parseInt(n);(r=(s=r)-o)<=0?a.setState(Object(b.a)({},a.state,{beginIndex:0,endIndex:o})):a.setState(Object(b.a)({},a.state,{beginIndex:r,endIndex:s}))},a.paginatorRight=function(){var e=a.state.sortedFilteredList.length,t=[a.state.beginIndex],n=[a.state.endIndex],r=[a.state.itemsToShow],s=parseInt(t),o=parseInt(n),l=parseInt(r),i=parseInt(e);if(s+=l,(o+=l)<=i)a.setState(Object(b.a)({},a.state,{beginIndex:s,endIndex:o}));else if(o>=i&&s<i){var c=[a.state.endIndex],m=parseInt(c);a.setState(Object(b.a)({},a.state,{beginIndex:m,endIndex:i}))}},a.getCustomers=function(){N.a.get("/").then(function(e){a.setState({incoming:e.data,sortedFilteredList:e.data})}).catch(function(e){a.setState(function(){throw e})})},document.title="\u041a\u043bi\u0435\u043d\u0442\u0438 - \u0413 \u0430 \u0440 \u0430 \u0436",a}return Object(O.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.getCustomers()}},{key:"render",value:function(){var e=this,t=JSON.parse(localStorage.getItem("user")),a=this.state.sortedFilteredList.slice(this.state.beginIndex,this.state.endIndex).map(function(a){return r.a.createElement(A,{key:a.id,name:a.lastName+" "+a.firstName,telNumber:a.telNumber,email:a.email,edit:function(){return e.editCustomer(a.id)},delete:function(){return e.deleteCustomer(a.id)},juser:t,add:function(){return e.addCustomer(a.id)},create:function(){return e.createOrder(a.id)},allOrders:function(){return e.allOrders(a.id)},car:e.props.match.params.car})}),n=r.a.createElement("table",{border:"1"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"name",onClick:function(){return e.sortMyList()}},"\u0424\u0430\u043ci\u043bi\u044f i\u043c'\u044f \u21c5"),r.a.createElement("th",{className:"telNumber"},"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b.:"),r.a.createElement("th",{className:"edite",style:"ROLE_USER"===t.role?{display:"none"}:{}}),r.a.createElement("th",{className:"delete",style:"ROLE_USER"===t.role?{display:"none"}:{}}),r.a.createElement("th",{className:"add",style:"ROLE_USER"===t.role?{}:{display:"none"}}),r.a.createElement("th",{className:"allOrders",style:void 0===this.props.match.params.car?{}:{display:"none"}}))),r.a.createElement("tbody",null,a));return r.a.createElement("div",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("div",null,r.a.createElement("input",{className:"form-control my-input-search-field",name:"fileteredBy",value:this.state.fileteredBy,onChange:this.filterMyList,placeholder:"Find By"}),r.a.createElement("strong",null,"       "),r.a.createElement("label",{className:"control-label input-search-label"},"\u041f\u043e\u043a\u0430\u0437\u0443\u0432\u0430\u0442\u0438:"),r.a.createElement("input",{className:"form-control my-input-paginator-field ",name:"itemsToShow",type:"number",min:"1",step:"1",value:this.state.itemsToShow,onChange:this.changeListSize}))),n,r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("strong",{onClick:this.paginatorLeft},this.left,"     "),r.a.createElement("strong",null,this.state.beginIndex+1," - ",this.state.endIndex),r.a.createElement("strong",{onClick:this.paginatorRight},"     ",this.right),r.a.createElement("br",null)))}}]),t}(n.Component),Y=function(e){function t(e){var a;return Object(v.a)(this,t),a=Object(g.a)(this,Object(y.a)(t).call(this,e)),document.title="\u041a\u043bi\u0435\u043d\u0442\u0438 - \u0413 \u0430 \u0440 \u0430 \u0436",a}return Object(O.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"\u041a\u043bi\u0435\u043d\u0442\u0438"),r.a.createElement("div",null,r.a.createElement(m.a,{to:"/newCustomer"},r.a.createElement("button",{className:"btn-success my-button"},"\u0421\u0432\u0442\u043e\u0440\u0438\u0442\u0438 \u041a\u043bi\u0435\u043d\u0442\u0430"))),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(m.a,{to:"/customerList"},r.a.createElement("button",{className:" btn-success my-button"},"\u0421\u043f\u0438\u0441\u043e\u043a \u041a\u043bi\u0435\u043d\u0442\u0443"))),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(m.a,{to:"/"},r.a.createElement("button",{className:" btn-success my-button "},"\u041d\u0430\u0439\u0442\u0438 \u041a\u043bi\u0435\u043d\u0442\u0430"))))}}]),t}(n.Component),z=(a(70),function(e){function t(){return Object(v.a)(this,t),Object(g.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"cust"},r.a.createElement("h3",null,this.props.name))}}]),t}(n.Component)),J=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(g.a)(this,Object(y.a)(t).call(this,e))).orderId="",a.state={customerIsPresent:!1,carIsPresent:!1,customer:{id:"",firstName:"",lastName:"",telNumber:"",email:""},car:{id:"",vinCode:"",licencePlate:"",carMade:""},amountPayedInAdvance:{value:"",isValid:!0,message:""},problem:{value:"",isValid:!0,message:""}},a.newCustomer=function(){var e=""===a.state.car.id?0:a.state.car.id;a.props.history.push("/creatingCustomer/"+e)},a.customerFromList=function(){var e=""===a.state.car.id?0:a.state.car.id;a.props.history.push("/customerList/"+e)},a.newCar=function(){var e=""===a.state.customer.id?0:a.state.customer.id;a.props.history.push("/creatingCar/"+e)},a.carFromList=function(){var e=""===a.state.customer.id?0:a.state.customer.id;a.props.history.push("/carList/"+e)},a.getCustomerByParamId=function(){N.a.get("/"+a.props.match.params.cust).then(function(e){var t=Object(b.a)({},a.state.customer);for(var n in e.data){var r=e.data[n];t[n]=r}a.setState(Object(b.a)({},a.state,{customer:t,customerIsPresent:!0}))}).catch(function(e){a.setState(function(){throw e})})},a.getCarByParamId=function(){N.a.get("/cars/id/"+a.props.match.params.car).then(function(e){var t=Object(b.a)({},a.state.car);for(var n in e.data){var r=e.data[n];t[n]=r}a.setState(Object(b.a)({},a.state,{car:t,carIsPresent:!0}))}).catch(function(e){a.setState(function(){throw e})})},a.inputChangeHandlerOfProblem=function(e){var t,n=e.target,r=Object(b.a)({},a.state.problem);t=n.value,r.value=t,r.isValid=!0,a.setState(Object(b.a)({},a.state,{problem:r}))},a.inputChangeHandlerOfAmount=function(e){var t,n=e.target,r=Object(b.a)({},a.state.amountPayedInAdvance);t=n.value,r.value=t,r.isValid=!0,a.setState(Object(b.a)({},a.state,{amountPayedInAdvance:r}))},a.postDataHandler=function(e){e.preventDefault();var t={};t.customer=a.state.customer.id,t.car=a.state.car.id,t.amountPayedInAdvance=a.state.amountPayedInAdvance.value,t.problem=a.state.problem.value;N()({method:"post",url:"/orders",data:t}).then(function(e){a.orderId=e.data.id,a.setState({customerIsPresent:!1,carIsPresent:!1,customer:{id:"",firstName:"",lastName:"",telNumber:"",email:""},car:{id:"",vinCode:"",licencePlate:"",carMade:""},amountPayedInAdvance:{value:"",isValid:!0,message:""},problem:{value:"",isValid:!0,message:""}})}).then(function(){a.props.history.push("/order/"+a.orderId),setTimeout(a.hideMessage,1500)}).catch(function(e){e.response.data.hasOwnProperty("fieldErrors")?a.validationHandler(e):a.setState(function(){throw e})})},a.hideMessage=function(){a.setState(Object(b.a)({},a.state,{emailSent:!1}))},a.validationHandler=function(e){var t=Object(b.a)({},a.state.problem);if(t.isValid=!0,t.message="",e.response.data.hasOwnProperty("fieldErrors")){var n=!0,r=!1,s=void 0;try{for(var o,l=e.response.data.fieldErrors[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){var i=o.value;"problem"===i.field&&(t.isValid=!1),t.message=i.message}}catch(c){r=!0,s=c}finally{try{n||null==l.return||l.return()}finally{if(r)throw s}}a.setState(Object(b.a)({},a.state,{problem:t}))}else a.setState(Object(b.a)({},a.state,{newPartForm:{name:{value:"",isValid:!1,message:"Please don't mess with my input fields"}}}))},document.title="\u041d\u043e\u0432\u0438\u0439 \u0417\u0430\u043a\u0430\u0437 - \u0413 \u0430 \u0440 \u0430 \u0436",a}return Object(O.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.props.match.params.car&&("0"!==this.props.match.params.car&&this.getCarByParamId(),"0"!==this.props.match.params.cust&&this.getCustomerByParamId())}},{key:"render",value:function(){return r.a.createElement("div",{className:"container "},r.a.createElement("h2",null," ",null!=this.props.match.params.id?"\u0417\u043c\u044b\u043d\u0438\u0442\u0438":"\u041d\u043e\u0432\u0438\u0439"," \u0417\u0430\u043a\u0430\u0437 "),r.a.createElement("hr",null),r.a.createElement("br",null),r.a.createElement("form",{onSubmit:this.postDataHandler},r.a.createElement("div",{className:"form-group try-border"},r.a.createElement("label",{className:"control-label label-for-buttons"},r.a.createElement("h4",null,"\u041a\u043bi\u0435\u043d\u0442:")),r.a.createElement("button",{className:this.state.customerIsPresent?"toHide":"button-for-new-order",onClick:this.newCustomer},"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438"),r.a.createElement("button",{className:this.state.customerIsPresent?"toHide":"button-for-new-order",onClick:this.customerFromList},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u0438 \u0437 \u0441\u043f\u0438\u0441\u043a\u0430"),this.state.customerIsPresent?r.a.createElement(z,{name:this.state.customer.firstName+" "+this.state.customer.lastName}):""),r.a.createElement("br",null),r.a.createElement("div",{className:"form-group try-border"},r.a.createElement("label",{className:"control-label label-for-buttons"},r.a.createElement("h4",null,"\u041c\u0430\u0448\u0438\u043d\u0430:")),r.a.createElement("button",{className:this.state.carIsPresent?"toHide":"button-for-new-order",onClick:this.newCar},"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438"),r.a.createElement("button",{className:this.state.carIsPresent?"toHide":"button-for-new-order",onClick:this.carFromList},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u0438 \u0437 \u0441\u043f\u0438\u0441\u043a\u0430"),this.state.carIsPresent?r.a.createElement(z,{name:this.state.car.licencePlate}):""),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:this.state.amountPayedInAdvance.isValid?"control-label label-for-buttons":"control-label input-label invalid-label"},"\u0421\u0443\u043c\u0430 \u043f\u0440\u0435\u0434\u043e\u043f\u043b\u0430\u0442\u0438:"),r.a.createElement("input",{className:this.state.amountPayedInAdvance.isValid?"form-control my-input-field":"form-control my-input-field is-invalid",id:"amountPayedInAdvance",name:"amountPayedInAdvance",type:"number",step:"0.01",min:"0",value:this.state.amountPayedInAdvance.value,onChange:this.inputChangeHandlerOfAmount}),r.a.createElement("span",{className:"form-text invalid-feedback"},this.state.amountPayedInAdvance.message)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:this.state.problem.isValid?"control-label label-2":"control-label input-label invalid-label"},"\u041e\u043f\u0438\u0441\u0430\u043die \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0438:"),r.a.createElement("textarea",{className:"my-textarea",type:"text",id:"problem",name:"problem",value:this.state.problem.value,onChange:this.inputChangeHandlerOfProblem}),r.a.createElement("span",{className:"form-text invalid-feedback"},this.state.problem.message)),r.a.createElement("br",null),r.a.createElement("button",{className:"btn btn-info my-button",type:"submit",key:"submit"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u0438"),r.a.createElement("button",{className:" btn btn-danger my-button",key:"cancel",type:"button",onClick:this.props.history.goBack},"\u041e\u0442\u043c\u0435\u043d\u0430")))}}]),t}(n.Component),q=function(e){function t(e){var a;return Object(v.a)(this,t),a=Object(g.a)(this,Object(y.a)(t).call(this,e)),document.title="\u041c\u0430\u0448\u0438\u043d\u0438 - \u0413 \u0430 \u0440 \u0430 \u0436",a}return Object(O.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"\u041c\u0430\u0448\u0438\u043d\u0438"),r.a.createElement("div",null,r.a.createElement(m.a,{to:"/addCar"},r.a.createElement("button",{className:"btn-success my-button"},"\u0421\u0432\u0442\u043e\u0440\u0438\u0442\u0438 \u041c\u0430\u0448\u0438\u043d\u0443"))),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(m.a,{to:"/carList"},r.a.createElement("button",{className:"btn-success my-button"},"\u0421\u043f\u0438\u0441\u043e\u043a \u041c\u0430\u0448\u0438\u043d"))),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(m.a,{to:"/"},r.a.createElement("button",{className:"btn-success my-button"},"\u041d\u0430\u0439\u0442\u0438 \u041c\u0430\u0448\u0438\u043d\u0443"))))}}]),t}(n.Component),Z=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(g.a)(this,Object(y.a)(t).call(this,e))).state={newCarForm:{vinCode:{value:"",isValid:!0,message:""},licencePlate:{value:"",isValid:!0,message:""},carMade:{value:"",isValid:!0,message:""}}},a.inputChangeHandler=function(e){var t,n=e.target,r=Object(b.a)({},a.state.newCarForm),s=Object(b.a)({},r[n.name]);t=n.value,s.value=t,s.isValid=!0,r[n.name]=s,a.setState(Object(b.a)({},a.state,{newCarForm:r}))},a.postDataHandler=function(e){e.preventDefault();var t={};for(var n in a.state.newCarForm)t[n]=a.state.newCarForm[n].value;var r="/cars",s="post",o=a.props.match.params.id,l=a.props.match.params.cust;o&&(r+="/"+o,s="put"),l?N()({method:s,url:r,data:t}).then(function(e){a.props.history.push("/newOrder/"+l+"/"+e.data.id),setTimeout(a.hideMessage,1500)}).catch(function(e){e.response.data.hasOwnProperty("fieldErrors")?a.validationHandler(e):a.setState(function(){throw e})}):N()({method:s,url:r,data:t}).then(function(){a.setState({newCarForm:{vinCode:{value:"",isValid:!0,message:""},licencePlate:{value:"",isValid:!0,message:""},carMade:{value:"",isValid:!0,message:""}}})}).then(function(){a.props.history.push("/carList"),setTimeout(a.hideMessage,1500)}).catch(function(e){e.response.data.hasOwnProperty("fieldErrors")?a.validationHandler(e):a.setState(function(){throw e})})},a.hideMessage=function(){a.setState(Object(b.a)({},a.state,{emailSent:!1}))},a.validationHandler=function(e){var t=Object(b.a)({},a.state.newCarForm);for(var n in a.state.newCarForm){var r=Object(b.a)({},t[n]);r.isValid=!0,r.message="",t[n]=r}if(e.response.data.hasOwnProperty("fieldErrors")){var s=!0,o=!1,l=void 0;try{for(var i,c=e.response.data.fieldErrors[Symbol.iterator]();!(s=(i=c.next()).done);s=!0){var m=i.value,d=Object(b.a)({},t[m.field]);d.isValid=!1,d.message=m.message,t[m.field]=d}}catch(u){o=!0,l=u}finally{try{s||null==c.return||c.return()}finally{if(o)throw l}}a.setState(Object(b.a)({},a.state,{newCarForm:t}))}else a.setState(Object(b.a)({},a.state,{newCarForm:{vinCode:{value:"",isValid:!1,message:"Please don't mess with my input fields"}}}))},a.getCarByParamsId=function(){N.a.get("/cars/id/"+a.props.match.params.id).then(function(e){var t=Object(b.a)({},a.state.newCarForm);for(var n in e.data){var r=Object(b.a)({},t[n]);r.value=e.data[n],t[n]=r}a.setState(Object(b.a)({},a.state,{newCarForm:t}))}).catch(function(e){a.setState(function(){throw e})})},document.title="\u041d\u043e\u0432\u0430 \u041c\u0430\u0448\u0438\u043d\u0430 - \u0413 \u0430 \u0440 \u0430 \u0436",a}return Object(O.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.props.match.params.id&&this.getCarByParamsId()}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h2",null," ",null!=this.props.match.params.id?"\u0417\u043ci\u043d\u0438\u0442\u0438":"\u041d\u043e\u0432\u0430"," \u041c\u0430\u0448\u0438\u043d",null!=this.props.match.params.id?"\u0443":"\u0430"),r.a.createElement("hr",null),r.a.createElement("br",null),r.a.createElement("form",{onSubmit:this.postDataHandler},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:this.state.newCarForm.licencePlate.isValid?"control-label input-label":"control-label input-label invalid-label"},"\u041d\u043e\u043c\u0435\u0440\u043d\u0438\u0439 \u0437\u043d\u0430\u043a:"),r.a.createElement("input",{className:this.state.newCarForm.licencePlate.isValid?"form-control my-input-field":"form-control my-input-field is-invalid",name:"licencePlate",value:this.state.newCarForm.licencePlate.value,onChange:this.inputChangeHandler}),r.a.createElement("span",{className:"form-text invalid-feedback"},this.state.newCarForm.licencePlate.message)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:this.state.newCarForm.vinCode.isValid?"control-label input-label":"control-label input-label invalid-label"},"VIN \u043a\u043e\u0434:"),r.a.createElement("input",{className:this.state.newCarForm.vinCode.isValid?"form-control my-input-field":"form-control my-input-field is-invalid",name:"vinCode",value:this.state.newCarForm.vinCode.value,onChange:this.inputChangeHandler}),r.a.createElement("span",{className:"form-text invalid-feedback"},this.state.newCarForm.vinCode.message)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:this.state.newCarForm.carMade.isValid?"control-label input-label":"control-label input-label invalid-label"},"\u041c\u043e\u0434\u0435\u043b\u044c i \u043c\u0430\u0440\u043a\u0430:"),r.a.createElement("input",{className:this.state.newCarForm.carMade.isValid?"form-control my-input-field":"form-control my-input-field is-invalid",name:"carMade",value:this.state.newCarForm.carMade.value,onChange:this.inputChangeHandler}),r.a.createElement("span",{className:"form-text invalid-feedback"},this.state.newCarForm.carMade.message)),r.a.createElement("br",null),r.a.createElement("button",{className:"btn btn-info my-button",type:"submit",key:"submit"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u0438"),r.a.createElement("button",{className:" btn btn-danger my-button",key:"cancel",type:"button",onClick:this.props.history.goBack},"\u041e\u0442\u043c\u0435\u043d\u0430")))}}]),t}(n.Component),G=function(e){function t(){return Object(v.a)(this,t),Object(g.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return r.a.createElement("tr",null,r.a.createElement("td",{className:"made"},this.props.carMade),r.a.createElement("td",{className:"vin",style:"Android OS"===this.props.browser?{display:"none"}:{}},this.props.vinCode),r.a.createElement("td",{className:"license"},this.props.licencePlate),r.a.createElement("td",{className:"edite",style:"ROLE_USER"===this.props.juser.role?{display:"none"}:{}}," ",r.a.createElement("button",{onClick:this.props.edit},"I\u0437\u043c\u044b\u043d\u0438\u0442\u0438")," "),r.a.createElement("td",{className:"delete",style:"ROLE_USER"===this.props.juser.role?{display:"none"}:{}}," ",r.a.createElement("button",{onClick:this.props.delete},"\u0423\u0434\u0430\u043b\u0438\u0442\u0438")," "),r.a.createElement("td",{className:"add",style:"ROLE_USER"===this.props.juser.role?void 0===this.props.cust?{display:"none"}:{}:{display:"none"}},"  ",r.a.createElement("button",{onClick:this.props.add},"\u0414\u043e\u0434\u0430\u0442\u0438")," "),r.a.createElement("td",{className:"create",style:"ROLE_USER"===this.props.juser.role&&void 0===this.props.cust?{}:{display:"none"}},"  ",r.a.createElement("button",{onClick:this.props.create},"\u041d\u043e\u0432\u0438\u0439 \u0437\u0430\u043a\u0430\u0437")," "),r.a.createElement("td",{className:"allOrders",style:void 0===this.props.cust?{}:{display:"none"}},"  ",r.a.createElement("button",{onClick:this.props.allOrders},"\u041f\u0440\u0435\u0434\u0438\u0434\u0443\u0449i \u0437\u0430\u043a\u0430\u0437\u0438")," "))}}]),t}(n.Component),K=(a(112),function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(g.a)(this,Object(y.a)(t).call(this,e))).left="<<<",a.right=">>>",a.state={sorted:"",incoming:[],sortedFilteredList:[],fileteredByLicense:"",fileteredByCarMade:"",fileteredByVin:"",itemsToShow:10,beginIndex:0,endIndex:10},a.editCar=function(e){a.props.history.push("/editCar/"+e)},a.deleteCar=function(e){console.log("deleting "+e)},a.addCar=function(e){a.props.history.push("/newOrder/"+a.props.match.params.cust+"/"+e)},a.createOrder=function(e){a.props.history.push("/newOrder/0/"+e)},a.allOrders=function(e){a.props.history.push("/openOrder/"+e+"/x")},a.sortMyList=function(e){var t=Object(R.a)(a.state.sortedFilteredList);if("vin"===e&&(""===a.state.sorted||"desc"===a.state.sorted)){var n=t.sort(function(e,t){return e.vinCode.toLowerCase()>t.vinCode.toLowerCase()?1:-1});a.setState(Object(b.a)({},a.state,{sorted:"asc",sortedFilteredList:n}))}if("vin"===e&&"asc"===a.state.sorted){var r=t.sort(function(e,t){return e.vinCode.toLowerCase()<t.vinCode.toLowerCase()?1:-1});a.setState(Object(b.a)({},a.state,{sorted:"desc",sortedFilteredList:r}))}if("license"===e&&(""===a.state.sorted||"desc"===a.state.sorted)){var s=t.sort(function(e,t){return e.licencePlate.toLowerCase()>t.licencePlate.toLowerCase()?1:-1});a.setState(Object(b.a)({},a.state,{sorted:"asc",sortedFilteredList:s}))}if("license"===e&&"asc"===a.state.sorted){var o=t.sort(function(e,t){return e.licencePlate.toLowerCase()<t.licencePlate.toLowerCase()?1:-1});a.setState(Object(b.a)({},a.state,{sorted:"desc",sortedFilteredList:o}))}if("made"===e&&(""===a.state.sorted||"desc"===a.state.sorted)){var l=t.sort(function(e,t){return e.carMade.toLowerCase()>t.carMade.toLowerCase()?1:-1});a.setState(Object(b.a)({},a.state,{sorted:"asc",sortedFilteredList:l}))}if("made"===e&&"asc"===a.state.sorted){var i=t.sort(function(e,t){return e.carMade.toLowerCase()<t.carMade.toLowerCase()?1:-1});a.setState(Object(b.a)({},a.state,{sorted:"desc",sortedFilteredList:i}))}},a.filterMyListByVin=function(e){var t,n=e.target;t=n.value;var r=Object(R.a)(a.state.incoming).filter(function(e){return e.vinCode.includes(t)||e.vinCode.toLowerCase().includes(t)||e.vinCode.toUpperCase().includes(t)}),s=[a.state.itemsToShow];a.setState(Object(b.a)({},a.state,{fileteredByVin:t,sortedFilteredList:r,endIndex:r.length<s?r.length:s}))},a.filterMyListByCarMade=function(e){var t,n=e.target;t=n.value;var r=Object(R.a)(a.state.incoming).filter(function(e){return e.carMade.includes(t)||e.carMade.toLowerCase().includes(t)||e.carMade.toUpperCase().includes(t)}),s=[a.state.itemsToShow];a.setState(Object(b.a)({},a.state,{fileteredByCarMade:t,sortedFilteredList:r,endIndex:r.length<s?r.length:s}))},a.filterMyListByLicensePlate=function(e){var t,n=e.target;t=n.value;var r=Object(R.a)(a.state.incoming).filter(function(e){return e.licencePlate.includes(t)||e.licencePlate.toLowerCase().includes(t)||e.licencePlate.toUpperCase().includes(t)}),s=[a.state.itemsToShow];a.setState(Object(b.a)({},a.state,{fileteredByLicense:t,sortedFilteredList:r,endIndex:r.length<s?r.length:s}))},a.changeListSize=function(e){var t;t=e.target.value;var n=a.state.sortedFilteredList.length,r=[a.state.beginIndex],s=parseInt(n),o=parseInt(r)+parseInt(t);""!==t&&o<s?a.setState(Object(b.a)({},a.state,{itemsToShow:t,endIndex:o})):""!==t&&o>s?a.setState(Object(b.a)({},a.state,{itemsToShow:t,endIndex:s})):a.setState(Object(b.a)({},a.state,{itemsToShow:t}))},a.paginatorLeft=function(){var e=[a.state.beginIndex],t=[a.state.endIndex],n=[a.state.itemsToShow],r=parseInt(e),s=parseInt(t),o=parseInt(n);(r=(s=r)-o)<=0?a.setState(Object(b.a)({},a.state,{beginIndex:0,endIndex:o})):a.setState(Object(b.a)({},a.state,{beginIndex:r,endIndex:s}))},a.paginatorRight=function(){var e=a.state.sortedFilteredList.length,t=[a.state.beginIndex],n=[a.state.endIndex],r=[a.state.itemsToShow],s=parseInt(t),o=parseInt(n),l=parseInt(r),i=parseInt(e);if(s+=l,(o+=l)<=i)a.setState(Object(b.a)({},a.state,{beginIndex:s,endIndex:o}));else if(o>=i&&s<i){var c=[a.state.endIndex],m=parseInt(c);a.setState(Object(b.a)({},a.state,{beginIndex:m,endIndex:i}))}},a.getCars=function(){N.a.get("/cars").then(function(e){a.setState({incoming:e.data,sortedFilteredList:e.data})}).catch(function(e){a.setState(function(){throw e})})},document.title="\u041c\u0430\u0448\u0438\u043d\u0438 - \u0413 \u0430 \u0440 \u0430 \u0436",a}return Object(O.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.getCars()}},{key:"render",value:function(){var e=this,t=(0,a(113).detect)(),n=JSON.parse(localStorage.getItem("user")),s=this.state.sortedFilteredList.slice(this.state.beginIndex,this.state.endIndex).map(function(a){return r.a.createElement(G,{key:a.id,vinCode:"..."+a.vinCode.substring(a.vinCode.length-7,a.vinCode.length),licencePlate:a.licencePlate,carMade:a.carMade,edit:function(){return e.editCar(a.id)},delete:function(){return e.deleteCar(a.id)},juser:n,add:function(){return e.addCar(a.id)},create:function(){return e.createOrder(a.id)},allOrders:function(){return e.allOrders(a.id)},cust:e.props.match.params.cust,browser:t.os})}),o=r.a.createElement("table",{border:"1"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"made",onClick:function(){return e.sortMyList("made")}},"\u041c\u0430\u0440\u043a\u0430 \u21c5"),r.a.createElement("th",{className:"vin",style:"Android OS"===t.os?{display:"none"}:{},onClick:function(){return e.sortMyList("vin")}},"VIN code \u21c5"),r.a.createElement("th",{className:"license",onClick:function(){return e.sortMyList("license")}},"\u041d\u043e\u043c\u0435\u0440\u0430 \u21c5"),r.a.createElement("th",{className:"edite",style:"ROLE_USER"===n.role?{display:"none"}:{}}),r.a.createElement("th",{className:"delete",style:"ROLE_USER"===n.role?{display:"none"}:{}}),r.a.createElement("th",{className:"add",style:"ROLE_USER"===n.role?{}:{display:"none"}}),r.a.createElement("th",{className:"allOrders",style:void 0===this.props.match.params.cust?{}:{display:"none"}}))),r.a.createElement("tbody",null,s));return r.a.createElement("div",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("div",null,r.a.createElement("input",{className:"form-control my-input-search-field",name:"fileteredBy",value:this.state.fileteredByVin,onChange:this.filterMyListByVin,placeholder:"Find By VIN"}),r.a.createElement("strong",null,"       "),r.a.createElement("label",{className:"control-label input-search-label"},"\u041f\u043e\u043a\u0430\u0437\u0443\u0432\u0430\u0442\u0438:"),r.a.createElement("input",{className:"form-control my-input-paginator-field ",name:"itemsToShow",type:"number",min:"1",step:"1",value:this.state.itemsToShow,onChange:this.changeListSize})),r.a.createElement("div",null,r.a.createElement("input",{className:"form-control my-input-search-field-2",name:"fileteredBy",value:this.state.fileteredByLicense,onChange:this.filterMyListByLicensePlate,placeholder:"\u041d\u043e\u043c\u0435\u0440\u0430"}),r.a.createElement("strong",null,"       "),r.a.createElement("input",{className:"form-control my-input-search-field-2",name:"fileteredBy",value:this.state.fileteredByCarMade,onChange:this.filterMyListByCarMade,placeholder:"\u041c\u043e\u0434\u0435\u043b\u044c"}))),o,r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("strong",{onClick:this.paginatorLeft},this.left,"     "),r.a.createElement("strong",null,this.state.beginIndex+1," - ",this.state.endIndex),r.a.createElement("strong",{onClick:this.paginatorRight},"     ",this.right),r.a.createElement("br",null)))}}]),t}(n.Component)),Q=function(e){function t(){return Object(v.a)(this,t),Object(g.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"cust"},r.a.createElement("table",{border:"0"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"2"},r.a.createElement("h4",null," ",this.props.upper," ")," ")),r.a.createElement("tr",null,r.a.createElement("td",{className:"left"},r.a.createElement("h5",null," ",this.props.left," ")," "),r.a.createElement("td",{className:"right"},r.a.createElement("h5",null," ",this.props.right," ")," ")))))}}]),t}(n.Component),X=function(e){function t(){return Object(v.a)(this,t),Object(g.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return r.a.createElement("tr",null,r.a.createElement("td",{className:"name"},this.props.name),r.a.createElement("td",{className:"price"},this.props.price),r.a.createElement("td",{className:"user"},this.props.user,"    ",r.a.createElement("button",{onClick:this.props.changeUser,style:"ROLE_ADMIN"!==this.props.juser.role||this.props.closed?{display:"none"}:this.props.done?{}:{display:"none"}},"I\u0437\u043ci\u043d\u0438\u0442\u0438")," "),r.a.createElement("td",{className:"desc",style:this.props.closed||"ROLE_ADMIN"===this.props.juser.role?{display:"none"}:{}},this.props.desc),r.a.createElement("td",{className:"done",style:"ROLE_USER"===this.props.juser.role?this.props.done?{display:"none"}:{}:{display:"none"}}," ",r.a.createElement("button",{onClick:this.props.closeWork},"\u0417\u0440\u043e\u0431\u0438\u0442\u0438")," "),r.a.createElement("td",{className:"done",style:this.props.done?{}:{display:"none"}}," \u0417\u0440\u043e\u0431\u043b\u0435\u043d\u0430!"),r.a.createElement("td",{className:"done",style:"ROLE_ADMIN"===this.props.juser.role?this.props.done?{display:"none"}:{}:{display:"none"}}," \u041d\u0435 \u0417\u0440\u043e\u0431\u043b\u0435\u043d\u0430! "),r.a.createElement("td",{className:"done",style:"ROLE_ADMIN"!==this.props.juser.role||this.props.closed?{display:"none"}:{}}," ",r.a.createElement("button",{onClick:this.props.remove},"\u0423\u0434\u0430\u043b\u0438\u0442\u0438")," "))}}]),t}(n.Component),$=(a(114),a(115),function(e){function t(){return Object(v.a)(this,t),Object(g.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return r.a.createElement("tr",null,r.a.createElement("td",{className:"name"},this.props.name),r.a.createElement("td",{className:"price"},this.props.amount),r.a.createElement("td",{className:"price"},this.props.totalPrice),r.a.createElement("td",{className:"desc",style:this.props.closed||"ROLE_ADMIN"===this.props.juser.role?{display:"none"}:{}},this.props.desc),r.a.createElement("td",{className:"done",style:"ROLE_ADMIN"!==this.props.juser.role||this.props.closed?{display:"none"}:{}}," ",r.a.createElement("button",{onClick:this.props.remove},"\u0423\u0434\u0430\u043b\u0438\u0442\u0438")," "))}}]),t}(n.Component)),ee=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(g.a)(this,Object(y.a)(t).call(this,e))).left="<<<",a.right=">>>",a.amountToPay=0,a.state={order:{id:"",customer:{firstName:"",lastName:"",telNumber:"",email:""},car:{vinCode:"",licencePlate:"",carMade:""},works:[],partCounts:[],orderOpened:"",orderClosed:"",payedFor:"",amountPayedInAdvance:"",problem:"",amountToPay:""},sortedWork:"",sortedFilteredListWork:[],workFileteredBy:"",itemsToShowWork:5,workBeginIndex:0,workEndIndex:5,sortedPart:"",sortedFilteredListPart:[],partFileteredBy:"",itemsToShowPart:5,partBeginIndex:0,partEndIndex:5},a.calcTotalToPay=function(e){var t=Object(R.a)(a.state.order.partCounts),n=a.state.order.amountPayedInAdvance,r=0;return r-=n,e.map(function(e){return e.workDone&&(r+=e.price),r}),t.map(function(e){return r+=e.retailPrice*e.amount}),r},a.calcTotalToPay2=function(e){var t=Object(R.a)(a.state.order.works),n=a.state.order.amountPayedInAdvance,r=0;return r-=n,e.map(function(e){return r+=e.retailPrice*e.amount}),t.map(function(e){return e.workDone&&(r+=e.price),r}),r},a.ifAllWorksAreDone=function(){return!(Object(R.a)(a.state.order.works).filter(function(e){return!e.workDone}).length>0)},a.filterMyWorkList=function(e){var t,n=e.target;t=n.value;var r=Object(R.a)(a.state.order.works).filter(function(e){return e.workName.includes(t)||e.workName.toLowerCase().includes(t)||e.workName.toUpperCase().includes(t)}),s=[a.state.itemsToShowWork];a.setState(Object(b.a)({},a.state,{workFileteredBy:t,sortedFilteredListWork:r,workEndIndex:r.length<s?r.length:s}))},a.filterMyPartList=function(e){var t,n=e.target;t=n.value;var r=Object(R.a)(a.state.order.partCounts).filter(function(e){return e.partName.includes(t)||e.partName.toLowerCase().includes(t)||e.partName.toUpperCase().includes(t)}),s=[a.state.itemsToShowPart];a.setState(Object(b.a)({},a.state,{partFileteredBy:t,sortedFilteredListPart:r,partEndIndex:r.length<s?r.length:s}))},a.changeWorkListSize=function(e){var t;t=e.target.value;var n=a.state.sortedFilteredListWork.length,r=[a.state.workBeginIndex],s=parseInt(n),o=parseInt(r)+parseInt(t);""!==t&&o<s?a.setState(Object(b.a)({},a.state,{itemsToShowWork:t,workEndIndex:o})):""!==t&&o>s?a.setState(Object(b.a)({},a.state,{itemsToShowWork:t,workEndIndex:s})):a.setState(Object(b.a)({},a.state,{itemsToShowWork:t}))},a.changePartListSize=function(e){var t;t=e.target.value;var n=a.state.sortedFilteredListPart.length,r=[a.state.partBeginIndex],s=parseInt(n),o=parseInt(r)+parseInt(t);""!==t&&o<s?a.setState(Object(b.a)({},a.state,{itemsToShowPart:t,partEndIndex:o})):""!==t&&o>s?a.setState(Object(b.a)({},a.state,{itemsToShowPart:t,partEndIndex:s})):a.setState(Object(b.a)({},a.state,{itemsToShowPart:t}))},a.workPaginatorLeft=function(){var e=[a.state.workBeginIndex],t=[a.state.workEndIndex],n=[a.state.itemsToShowWork],r=parseInt(e),s=parseInt(t),o=parseInt(n);(r=(s=r)-o)<=0?a.setState(Object(b.a)({},a.state,{workBeginIndex:0,workEndIndex:o})):a.setState(Object(b.a)({},a.state,{workBeginIndex:r,workEndIndex:s}))},a.partPaginatorLeft=function(){var e=[a.state.partBeginIndex],t=[a.state.partEndIndex],n=[a.state.itemsToShowPart],r=parseInt(e),s=parseInt(t),o=parseInt(n);(r=(s=r)-o)<=0?a.setState(Object(b.a)({},a.state,{partBeginIndex:0,partEndIndex:o})):a.setState(Object(b.a)({},a.state,{partBeginIndex:r,partEndIndex:s}))},a.workPaginatorRight=function(){var e=a.state.sortedFilteredListWork.length,t=[a.state.workBeginIndex],n=[a.state.workEndIndex],r=[a.state.itemsToShowWork],s=parseInt(t),o=parseInt(n),l=parseInt(r),i=parseInt(e);if(s+=l,(o+=l)<=i)a.setState(Object(b.a)({},a.state,{workBeginIndex:s,workEndIndex:o}));else if(o>=i&&s<i){var c=[a.state.workEndIndex],m=parseInt(c);a.setState(Object(b.a)({},a.state,{workBeginIndex:m,workEndIndex:i}))}},a.partPaginatorRight=function(){var e=a.state.sortedFilteredListPart.length,t=[a.state.partBeginIndex],n=[a.state.partEndIndex],r=[a.state.itemsToShowPart],s=parseInt(t),o=parseInt(n),l=parseInt(r),i=parseInt(e);if(s+=l,(o+=l)<=i)a.setState(Object(b.a)({},a.state,{partBeginIndex:s,partEndIndex:o}));else if(o>=i&&s<i){var c=[a.state.partEndIndex],m=parseInt(c);a.setState(Object(b.a)({},a.state,{partBeginIndex:m,partEndIndex:i}))}},a.sortMyWorkList=function(e){var t=Object(R.a)(a.state.sortedFilteredListWork);if("name"===e&&(""===a.state.sortedWork||"desc"===a.state.sortedWork)){var n=t.sort(function(e,t){return e.workName.toLowerCase()>t.workName.toLowerCase()?1:-1});a.setState(Object(b.a)({},a.state,{sortedWork:"asc",sortedFilteredListWork:n}))}if("name"===e&&"asc"===a.state.sortedWork){var r=t.sort(function(e,t){return e.workName.toLowerCase()<t.workName.toLowerCase()?1:-1});a.setState(Object(b.a)({},a.state,{sortedWork:"desc",sortedFilteredListWork:r}))}if("doneBy"===e&&(""===a.state.sortedWork||"desc"===a.state.sortedWork)){var s=t.sort(function(e,t){return e.userName.toLowerCase()>t.userName.toLowerCase()?1:-1});a.setState(Object(b.a)({},a.state,{sortedWork:"asc",sortedFilteredListWork:s}))}if("doneBy"===e&&"asc"===a.state.sortedWork){var o=t.sort(function(e,t){return e.userName.toLowerCase()<t.userName.toLowerCase()?1:-1});a.setState(Object(b.a)({},a.state,{sortedWork:"desc",sortedFilteredListWork:o}))}if("ifDone"===e&&(""===a.state.sortedWork||"desc"===a.state.sortedWork)){var l=t.sort(function(e,t){return e.workDone>t.workDone?1:-1});a.setState(Object(b.a)({},a.state,{sortedWork:"asc",sortedFilteredListWork:l}))}if("ifDone"===e&&"asc"===a.state.sortedWork){var i=t.sort(function(e,t){return e.workDone<t.workDone?1:-1});a.setState(Object(b.a)({},a.state,{sortedWork:"desc",sortedFilteredListWork:i}))}},a.sortMyPartList=function(){var e=Object(R.a)(a.state.sortedFilteredListPart);if(""===a.state.sortedWork||"desc"===a.state.sortedWork){var t=e.sort(function(e,t){return e.partName.toLowerCase()>t.partName.toLowerCase()?1:-1});a.setState(Object(b.a)({},a.state,{sortedWork:"asc",sortedFilteredListPart:t}))}if("asc"===a.state.sortedWork){var n=e.sort(function(e,t){return e.partName.toLowerCase()<t.partName.toLowerCase()?1:-1});a.setState(Object(b.a)({},a.state,{sortedWork:"desc",sortedFilteredListPart:n}))}},a.removePartCount=function(e){N.a.delete("/orders/remove_part/"+a.state.order.id+"/"+e).then(function(e){var t=Object(b.a)({},a.state.order);for(var n in e.data){var r=Object(b.a)({},t[n]);r=e.data[n],t[n]=r}t.amountToPay=a.calcTotalToPay2(e.data.partCounts),a.setState(Object(b.a)({},a.state,{order:t,sortedFilteredListWork:e.data.works,sortedFilteredListPart:e.data.partCounts}))}).catch(function(e){a.setState(function(){throw e})})},a.closeWork=function(e){N.a.post("/orders/close_work/"+a.state.order.id+"/"+e).then(function(e){var t=Object(b.a)({},a.state.order);for(var n in e.data){var r=Object(b.a)({},t[n]);r=e.data[n],t[n]=r}t.amountToPay=a.calcTotalToPay(e.data.works),a.setState(Object(b.a)({},a.state,{order:t,sortedFilteredListWork:e.data.works}))}).catch(function(e){a.setState(function(){throw e})})},a.removeWork=function(e){N.a.delete("/orders/remove_work/"+a.state.order.id+"/"+e).then(function(e){var t=Object(b.a)({},a.state.order);for(var n in e.data){var r=Object(b.a)({},t[n]);r=e.data[n],t[n]=r}t.amountToPay=a.calcTotalToPay(e.data.works),a.setState(Object(b.a)({},a.state,{order:t,sortedFilteredListWork:e.data.works,sortedFilteredListPart:e.data.partCounts}))}).catch(function(e){a.setState(function(){throw e})})},a.addNewWork=function(){a.props.history.push("/addWorkToOrder/"+a.state.order.id)},a.payFor=function(){N.a.post("/orders/pay_for/"+a.state.order.id).then(function(e){var t=Object(b.a)({},a.state.order);for(var n in e.data){var r=Object(b.a)({},t[n]);r=e.data[n],t[n]=r}t.amountToPay=0,a.setState(Object(b.a)({},a.state,{order:t,sortedFilteredListWork:e.data.works}))}).catch(function(e){a.setState(function(){throw e})})},a.closeOrder=function(){a.ifAllWorksAreDone()?a.ifAllWorksAreDone()&&!a.state.order.payedFor?alert("\u0417\u0430\u043a\u0430\u0437 \u0449\u0435 \u043d\u0435 \u043e\u043f\u043b\u0430\u0447\u0435\u043d\u0438\u0439!!! \u0420\u0430\u0437 \u043e\u043f\u043b\u0430\u0442i\u0442 \u0437\u0430\u043a\u0430\u0437!"):N.a.get("/orders/close/"+a.state.order.id).then(function(e){var t=Object(b.a)({},a.state.order);for(var n in e.data){var r=Object(b.a)({},t[n]);r=e.data[n],t[n]=r}a.setState(Object(b.a)({},a.state,{order:t,sortedFilteredListWork:e.data.works}))}).catch(function(e){a.setState(function(){throw e})}):alert("\u0429\u0435 \u043d\u0435 \u0432\u0441i \u0440\u043e\u0431\u043e\u0442\u0438 \u0437\u0440\u043e\u0431\u043b\u0435\u043di!!! \u0420\u0430\u0437 \u0437\u0440\u043e\u0431\u0438 \u0432\u0441i \u0440\u043e\u0431\u043e\u0442\u0438!")},a.getReceipt=function(){console.log("getting the receipt")},a.changeUser=function(e){a.props.history.push("/changeUser/"+e+"/"+a.state.order.id)},a.addCarPart=function(){a.props.history.push("/addParts/"+a.state.order.id)},a.getOrderByParamsId=function(){N.a.get("/orders/total_to_pay/"+a.props.match.params.id).then(function(e){a.amountToPay=e.data}).then(function(){N.a.get("/orders/"+a.props.match.params.id).then(function(e){var t=Object(b.a)({},a.state.order);for(var n in e.data){var r=Object(b.a)({},t[n]);r=e.data[n],t[n]=r}t.amountToPay=a.amountToPay,a.setState(Object(b.a)({},a.state,{order:t,sortedFilteredListWork:e.data.works,sortedFilteredListPart:e.data.partCounts}))}).catch(function(e){a.setState(function(){throw e})})}).catch(function(e){a.setState(function(){throw e})})},document.title="\u0417\u0430\u043a\u0430\u0437 - \u0413 \u0430 \u0440 \u0430 \u0436",a}return Object(O.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.props.match.params.id&&this.getOrderByParamsId()}},{key:"render",value:function(){var e=this,t=JSON.parse(localStorage.getItem("user")),a=this.state.sortedFilteredListWork.slice(this.state.workBeginIndex,this.state.workEndIndex).map(function(a){return r.a.createElement(X,{key:a.id,name:a.workName,desc:a.description.slice(0,50),price:a.price,done:a.workDone,closeWork:function(){return e.closeWork(a.id)},user:a.userName,juser:t,remove:function(){return e.removeWork(a.id)},closed:e.state.order.orderClosed,changeUser:function(){return e.changeUser(a.id)}})}),n=r.a.createElement("table",{border:"1"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"name",onClick:function(){return e.sortMyWorkList("name")}},"\u0440\u043e\u0431\u043e\u0442\u0430 \u21c5"),r.a.createElement("th",{className:"price"},"\u0446i\u043d\u0430"),r.a.createElement("th",{className:"user",onClick:function(){return e.sortMyWorkList("doneBy")}},"\u0417\u0440\u043e\u0431\u0438\u0432 \u21c5"),r.a.createElement("th",{className:"desc",style:this.state.order.orderClosed||"ROLE_ADMIN"===t.role?{display:"none"}:{}},"\u043e\u043fi\u0441\u0430\u043di\u0435"),r.a.createElement("th",{className:"done",onClick:function(){return e.sortMyWorkList("ifDone")}},"\u21c5"),r.a.createElement("th",{className:"done",style:"ROLE_ADMIN"!==t.role||this.state.order.orderClosed?{display:"none"}:{}},"\u0423\u0434\u0430\u043b\u0438\u0442\u0438"))),r.a.createElement("tbody",null,a)),s=this.state.sortedFilteredListPart.slice(this.state.partBeginIndex,this.state.partEndIndex).map(function(a){return r.a.createElement($,{key:a.id,name:a.partName,desc:a.description.slice(0,50),amount:a.amount,totalPrice:a.retailPrice*a.amount,juser:t,remove:function(){return e.removePartCount(a.id)},closed:e.state.order.orderClosed})}),o=r.a.createElement("table",{border:"1"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"name",onClick:function(){return e.sortMyPartList()}},"\u0437\u0430\u043f\u0447\u0430\u0441\u0442\u044c \u21c5"),r.a.createElement("th",{className:"done"},"\u043a\u043e\u043bi\u0447\u0435\u0441\u0442\u0432\u043e "),r.a.createElement("th",{className:"price"}," \u043e\u0431\u0449\u0430 \u0446i\u043d\u0430"),r.a.createElement("th",{className:"user",style:this.state.order.orderClosed||"ROLE_ADMIN"===t.role?{display:"none"}:{}},"\u043e\u043fi\u0441\u0430\u043di\u0435"),r.a.createElement("th",{className:"done",style:"ROLE_ADMIN"!==t.role||this.state.order.orderClosed?{display:"none"}:{}},"\u0423\u0434\u0430\u043b\u0438\u0442\u0438"))),r.a.createElement("tbody",null,s));return r.a.createElement("div",null,r.a.createElement("div",{className:"for-div"},r.a.createElement("h3",{className:"tt1"},"\u0417\u0430\u043a\u0430\u0437: ",this.state.order.id),r.a.createElement("h3",{className:this.state.order.orderClosed?"ml-auto closed":"ml-auto open"},this.state.order.orderClosed?"\u0437\u0430\u043a\u0440\u0438\u0442\u0438\u0439":"\u043e\u0434\u043a\u0440\u0438\u0442\u0438\u0439")),r.a.createElement("div",{className:"form-group try-border"},r.a.createElement("label",{className:"control-label label-for-buttons"},r.a.createElement("h4",null,"\u041a\u043bi\u0435\u043d\u0442:")),r.a.createElement(Q,{upper:this.state.order.customer.firstName+" "+this.state.order.customer.lastName,left:this.state.order.customer.telNumber,right:this.state.order.customer.email})),r.a.createElement("div",{className:"form-group try-border"},r.a.createElement("label",{className:"control-label label-for-buttons"},r.a.createElement("h4",null,"\u041c\u0430\u0448\u0438\u043d\u0430:")),r.a.createElement(Q,{upper:this.state.order.car.carMade,left:this.state.order.car.licencePlate,right:this.state.order.car.vinCode})),r.a.createElement("h4",{className:"date"},"\u0417\u0430\u043a\u0430\u0437 \u043e\u0434\u043a\u0440\u0438\u0442\u0438\u0439: ",k.a.format(new Date(this.state.order.orderOpened),"DD. MM. YYYY. - HH:mm")),r.a.createElement("h4",{className:"date",style:this.state.order.orderClosed?{}:{display:"none"}},"\u0417\u0430\u043a\u0430\u0437 \u0437\u0430\u043a\u0440\u0438\u0442\u0438\u0439:   ",k.a.format(new Date(this.state.order.orderClosed),"DD. MM. YYYY. - HH:mm")),r.a.createElement("h4",{className:"date"},"Cy\u043c\u043c\u0430 \u043f\u0440\u0435\u0434\u043e\u043f\u043b\u0430\u0442\u0438: ",this.state.order.amountPayedInAdvance),r.a.createElement("h4",{className:"date"},this.state.order.orderClosed?"\u041e\u043f\u043b\u0430\u0447\u0435\u043d\u043e:":"\u0414\u043e\u0432\u0433:"," ",this.state.order.amountToPay.toLocaleString(void 0,{maximumFractionDigits:2})),r.a.createElement("h4",{className:"date"},"\u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0430: ",this.state.order.problem),r.a.createElement("div",{style:"ROLE_ADMIN"===t.role||this.state.order.orderClosed?{display:"none"}:{}},r.a.createElement("hr",null),r.a.createElement("button",{className:"btn btn-info my-button",onClick:function(){return e.addNewWork()}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u0438 \u0440\u043e\u0431\u043e\u0442\u0443"),r.a.createElement("button",{className:"btn btn-info my-button",onClick:function(){return e.addCarPart()}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u0438 \u0437\u0430\u043f\u0447\u0430\u0441\u0442\u044c"),r.a.createElement("button",{className:"btn btn-info my-button",onClick:function(){return e.payFor()},style:this.state.order.payedFor?{display:"none"}:{}},"\u041e\u043f\u043b\u0430\u0442\u0438\u0442\u0438"),r.a.createElement("h4",{className:"btn btn-success my-button",style:this.state.order.payedFor?{}:{display:"none"}},"\u041e\u043f\u043b\u0430\u0447\u0435\u043d\u043e"),r.a.createElement("button",{className:"btn btn-info my-button",onClick:function(){return e.closeOrder()}},"\u0417\u0430\u043a\u0440\u0438\u0442\u0438"),r.a.createElement("hr",null)),r.a.createElement("div",{style:this.state.order.orderClosed?{}:{display:"none"}},r.a.createElement("hr",null),r.a.createElement("button",{className:"btn btn-success my-button",onClick:function(){return e.getReceipt()}},"\u0429\u043e\u0442 \u0437\u0430 \u0440\u043e\u0431\u043e\u0442\u0443"),r.a.createElement("hr",null)),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h4",null,"\u0420\u043e\u0431\u043e\u0442\u0438:"),r.a.createElement("div",{style:this.state.order.works.length<6?{display:"none"}:{}},r.a.createElement("input",{className:"form-control my-input-search-field",name:"fileteredBy",value:this.state.workFileteredBy,onChange:this.filterMyWorkList,placeholder:"\u041d\u0430\u0437\u0432\u0430 \u0440\u043e\u0431\u043e\u0442\u0438"}),r.a.createElement("strong",null,"       "),r.a.createElement("label",{className:"control-label input-search-label"},"\u041f\u043e\u043a\u0430\u0437\u0443\u0432\u0430\u0442\u0438:"),r.a.createElement("input",{className:"form-control my-input-paginator-field ",name:"itemsToShow",type:"number",min:"1",step:"1",value:this.state.itemsToShowWork,onChange:this.changeWorkListSize})),n,r.a.createElement("div",{style:this.state.order.works.length<6?{display:"none"}:{}},r.a.createElement("strong",{onClick:this.workPaginatorLeft},this.left,"     "),r.a.createElement("strong",null,this.state.workBeginIndex+1," - ",this.state.workEndIndex),r.a.createElement("strong",{onClick:this.workPaginatorRight},"     ",this.right),r.a.createElement("br",null)),r.a.createElement("br",null),r.a.createElement("hr",null),r.a.createElement("br",null),r.a.createElement("h4",null,"\u0417\u0430\u043f\u0447\u0430\u0441\u0442i:"),r.a.createElement("div",{style:this.state.order.partCounts.length<6?{display:"none"}:{}},r.a.createElement("input",{className:"form-control my-input-search-field",name:"fileteredBy",value:this.state.partFileteredBy,onChange:this.filterMyPartList,placeholder:"\u041d\u0430\u0437\u0432\u0430 \u0437\u0430\u043f\u0447\u0430\u0441\u0442i"}),r.a.createElement("strong",null,"       "),r.a.createElement("label",{className:"control-label input-search-label"},"\u041f\u043e\u043a\u0430\u0437\u0443\u0432\u0430\u0442\u0438:"),r.a.createElement("input",{className:"form-control my-input-paginator-field ",name:"itemsToShow",type:"number",min:"1",step:"1",value:this.state.itemsToShowPart,onChange:this.changePartListSize})),o,r.a.createElement("div",{style:this.state.order.partCounts.length<6?{display:"none"}:{}},r.a.createElement("strong",{onClick:this.partPaginatorLeft},this.left,"     "),r.a.createElement("strong",null,this.state.partBeginIndex+1," - ",this.state.partEndIndex),r.a.createElement("strong",{onClick:this.partPaginatorRight},"     ",this.right),r.a.createElement("br",null)))}}]),t}(n.Component),te=function(e){function t(e){var a;return Object(v.a)(this,t),a=Object(g.a)(this,Object(y.a)(t).call(this,e)),document.title="\u0420\u043e\u0431\u043e\u0442\u0438 - \u0413 \u0430 \u0440 \u0430 \u0436",a}return Object(O.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"\u0420\u043e\u0431\u043e\u0442\u0438"),r.a.createElement("div",null,r.a.createElement(m.a,{to:"/addWork"},r.a.createElement("button",{className:"btn-success my-button"},"\u0421\u0432\u0442\u043e\u0440\u0438\u0442\u0438 \u0440\u043e\u0431\u043e\u0442\u0443"))),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(m.a,{to:"/worksList"},r.a.createElement("button",{className:" btn-success my-button"},"\u0421\u043f\u0438\u0441\u043e\u043a \u0440\u043e\u0431\u043e\u0442"))),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(m.a,{to:"/"},r.a.createElement("button",{className:" btn-success my-button "},"\u041d\u0430\u0439\u0442\u0438 \u0440\u043e\u0431\u043e\u0442\u0443"))))}}]),t}(n.Component),ae=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(g.a)(this,Object(y.a)(t).call(this,e))).state={newWorkForm:{name:{value:"",isValid:!0,message:""},description:{value:"",isValid:!0,message:""},price:{value:"",isValid:!0,message:""}}},a.inputChangeHandler=function(e){var t,n=e.target,r=Object(b.a)({},a.state.newWorkForm),s=Object(b.a)({},r[n.name]);t=n.value,s.value=t,s.isValid=!0,r[n.name]=s,a.setState(Object(b.a)({},a.state,{newWorkForm:r}))},a.postDataHandler=function(e){e.preventDefault();var t={};for(var n in a.state.newWorkForm)t[n]=a.state.newWorkForm[n].value;var r="/work",s="post",o=a.props.match.params.id;o&&(r+="/"+o,s="put"),N()({method:s,url:r,data:t}).then(function(){a.setState({newWorkForm:{name:{value:"",isValid:!0,message:""},description:{value:"",isValid:!0,message:""},price:{value:"",isValid:!0,message:""}}})}).then(function(){a.props.history.push("/worksList"),setTimeout(a.hideMessage,1500)}).catch(function(e){e.response.data.hasOwnProperty("fieldErrors")?a.validationHandler(e):a.setState(function(){throw e})})},a.hideMessage=function(){},a.validationHandler=function(e){var t=Object(b.a)({},a.state.newWorkForm);for(var n in a.state.newWorkForm){var r=Object(b.a)({},t[n]);r.isValid=!0,r.message="",t[n]=r}if(e.response.data.hasOwnProperty("fieldErrors")){var s=!0,o=!1,l=void 0;try{for(var i,c=e.response.data.fieldErrors[Symbol.iterator]();!(s=(i=c.next()).done);s=!0){var m=i.value,d=Object(b.a)({},t[m.field]);d.isValid=!1,d.message=m.message,t[m.field]=d}}catch(u){o=!0,l=u}finally{try{s||null==c.return||c.return()}finally{if(o)throw l}}a.setState(Object(b.a)({},a.state,{newWorkForm:t}))}else a.setState(Object(b.a)({},a.state,{newWorkForm:{name:{value:"",isValid:!1,message:"Please don't mess with my input fields"}}}))},a.getWorkByParamsId=function(){N.a.get("/work/"+a.props.match.params.id).then(function(e){var t=Object(b.a)({},a.state.newWorkForm);for(var n in e.data){var r=Object(b.a)({},t[n]);r.value=e.data[n],t[n]=r}a.setState(Object(b.a)({},a.state,{newWorkForm:t}))}).catch(function(e){a.setState(function(){throw e})})},document.title="\u041d\u043e\u0432\u0430 \u0440\u043e\u0431\u043e\u0442\u0430 - \u0413 \u0430 \u0440 \u0430 \u0436",a}return Object(O.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.props.match.params.id&&this.getWorkByParamsId()}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h2",null," ",null!=this.props.match.params.id?"\u0417\u043c\u044b\u043d\u0438\u0442\u0438":"\u041d\u043e\u0432\u0430","  \u0420\u043e\u0431\u043e\u0442",null!=this.props.match.params.id?"\u0443":"\u0430"),r.a.createElement("hr",null),r.a.createElement("br",null),r.a.createElement("form",{onSubmit:this.postDataHandler},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:this.state.newWorkForm.name.isValid?"control-label input-label":"control-label input-label invalid-label"},"\u041d\u0430\u0437\u0432\u0430 \u0440\u043e\u0431\u043e\u0442\u0438:"),r.a.createElement("input",{className:this.state.newWorkForm.name.isValid?"form-control my-input-field":"form-control my-input-field is-invalid",name:"name",value:this.state.newWorkForm.name.value,onChange:this.inputChangeHandler}),r.a.createElement("span",{className:"form-text invalid-feedback"},this.state.newWorkForm.name.message)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:this.state.newWorkForm.description.isValid?"control-label textarea-lable":"control-label input-label invalid-label"},"\u041e\u043f\u0438\u0441\u0430\u043di\u0435:"),r.a.createElement("textarea",{className:"my-textarea",type:"text",name:"description",value:this.state.newWorkForm.description.value,onChange:this.inputChangeHandler}),r.a.createElement("span",{className:"form-text invalid-feedback"},this.state.newWorkForm.description.message)),r.a.createElement("div",{className:"form-group "},r.a.createElement("label",{className:this.state.newWorkForm.price.isValid?"control-label input-label":"control-label input-label invalid-label"},"\u041f\u0440\u043e\u0434\u0430\u0436\u043d\u0430 \u0446i\u043d\u0430:"),r.a.createElement("input",{className:this.state.newWorkForm.price.isValid?"form-control my-input-field":"form-control my-input-field is-invalid",type:"number",step:"0.01",min:"0.01",id:"price",name:"price",value:this.state.newWorkForm.price.value,onChange:this.inputChangeHandler}),r.a.createElement("span",{className:"form-text invalid-feedback"},this.state.newWorkForm.price.message)),r.a.createElement("br",null),r.a.createElement("button",{className:"btn btn-info my-button",type:"submit",key:"submit"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u0438"),r.a.createElement("button",{className:" btn btn-danger my-button",key:"cancel",type:"button",onClick:this.props.history.goBack},"\u041e\u0442\u043c\u0435\u043d\u0430")))}}]),t}(n.Component),ne=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(g.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).left="<<<",a.right=">>>",a.state={sorted:"",incoming:[],sortedFilteredList:[],fileteredBy:"",itemsToShow:10,beginIndex:0,endIndex:10},a.editWork=function(e){a.props.history.push("/editWork/"+e)},a.deleteWork=function(e){console.log("deleting "+e)},a.addWork=function(e){a.props.match.params.id&&N.a.post("/orders/work/"+e+"/"+a.props.match.params.id).then(function(e){a.props.history.push("/order/"+a.props.match.params.id)}).catch(function(e){a.setState(function(){throw e})})},a.sortMyList=function(e){var t=Object(R.a)(a.state.sortedFilteredList);if("name"===e&&(""===a.state.sorted||"desc"===a.state.sorted)){var n=t.sort(function(e,t){return e.name.toLowerCase()>t.name.toLowerCase()?1:-1});a.setState(Object(b.a)({},a.state,{sorted:"asc",sortedFilteredList:n}))}if("name"===e&&"asc"===a.state.sorted){var r=t.sort(function(e,t){return e.name.toLowerCase()<t.name.toLowerCase()?1:-1});a.setState(Object(b.a)({},a.state,{sorted:"desc",sortedFilteredList:r}))}if("price"===e&&(""===a.state.sorted||"desc"===a.state.sorted)){var s=t.sort(function(e,t){return e.retailPrice>t.retailPrice?1:-1});a.setState(Object(b.a)({},a.state,{sorted:"asc",sortedFilteredList:s}))}if("price"===e&&"asc"===a.state.sorted){var o=t.sort(function(e,t){return e.retailPrice<t.retailPrice?1:-1});a.setState(Object(b.a)({},a.state,{sorted:"desc",sortedFilteredList:o}))}},a.filterMyList=function(e){var t,n=e.target;t=n.value;var r=Object(R.a)(a.state.incoming).filter(function(e){return e.name.includes(t)||e.name.toLowerCase().includes(t)||e.name.toUpperCase().includes(t)}),s=[a.state.itemsToShow];a.setState(Object(b.a)({},a.state,{fileteredBy:t,sortedFilteredList:r,endIndex:r.length<s?r.length:s}))},a.changeListSize=function(e){var t;t=e.target.value;var n=a.state.sortedFilteredList.length,r=[a.state.beginIndex],s=parseInt(n),o=parseInt(r)+parseInt(t);""!==t&&o<s?a.setState(Object(b.a)({},a.state,{itemsToShow:t,endIndex:o})):""!==t&&o>s?a.setState(Object(b.a)({},a.state,{itemsToShow:t,endIndex:s})):a.setState(Object(b.a)({},a.state,{itemsToShow:t}))},a.paginatorLeft=function(){var e=[a.state.beginIndex],t=[a.state.endIndex],n=[a.state.itemsToShow],r=parseInt(e),s=parseInt(t),o=parseInt(n);(r=(s=r)-o)<=0?a.setState(Object(b.a)({},a.state,{beginIndex:0,endIndex:o})):a.setState(Object(b.a)({},a.state,{beginIndex:r,endIndex:s}))},a.paginatorRight=function(){var e=a.state.sortedFilteredList.length,t=[a.state.beginIndex],n=[a.state.endIndex],r=[a.state.itemsToShow],s=parseInt(t),o=parseInt(n),l=parseInt(r),i=parseInt(e);if(s+=l,(o+=l)<=i)a.setState(Object(b.a)({},a.state,{beginIndex:s,endIndex:o}));else if(o>=i&&s<i){var c=[a.state.endIndex],m=parseInt(c);a.setState(Object(b.a)({},a.state,{beginIndex:m,endIndex:i}))}},a.getWorks=function(){N.a.get("/work").then(function(e){a.setState({incoming:e.data,sortedFilteredList:e.data})}).catch(function(e){a.setState(function(){throw e})})},a}return Object(O.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.getWorks()}},{key:"render",value:function(){var e=this,t=JSON.parse(localStorage.getItem("user")),a=this.state.sortedFilteredList.slice(this.state.beginIndex,this.state.endIndex).map(function(a){return r.a.createElement(H,{key:a.id,name:a.name,desc:a.description,price:a.price,edit:function(){return e.editWork(a.id)},delete:function(){return e.deleteWork(a.id)},juser:t,add:function(){return e.addWork(a.id)}})}),n=r.a.createElement("table",{border:"1"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"n",onClick:function(){return e.sortMyList("name")}},"\u041d\u0430\u0437\u0432\u0430 \u21c5"),r.a.createElement("th",{className:"p",onClick:function(){return e.sortMyList("price")}},"\u0446i\u043d\u0430 \u21c5"),r.a.createElement("th",{className:"edit",style:"ROLE_USER"===t.role?{display:"none"}:{}}),r.a.createElement("th",{className:"delete",style:"ROLE_USER"===t.role?{display:"none"}:{}}),r.a.createElement("th",{className:"add",style:"ROLE_USER"===t.role?{}:{display:"none"}}))));return r.a.createElement("div",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("div",null,r.a.createElement("input",{className:"form-control my-input-search-field",name:"fileteredBy",value:this.state.fileteredBy,onChange:this.filterMyList,placeholder:"Find By"}),r.a.createElement("strong",null,"       "),r.a.createElement("label",{className:"control-label input-search-label"},"\u041f\u043e\u043a\u0430\u0437\u0443\u0432\u0430\u0442\u0438:"),r.a.createElement("input",{className:"form-control my-input-paginator-field ",name:"itemsToShow",type:"number",min:"1",step:"1",value:this.state.itemsToShow,onChange:this.changeListSize}))),n,a,r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("strong",{onClick:this.paginatorLeft},this.left,"     "),r.a.createElement("strong",null,this.state.beginIndex+1," - ",this.state.endIndex),r.a.createElement("strong",{onClick:this.paginatorRight},"     ",this.right),r.a.createElement("br",null)))}}]),t}(n.Component),re=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(g.a)(this,Object(y.a)(t).call(this,e))).state={part:{id:"",name:"",description:"",retailPrice:""},amount:"",totalPrice:""},a.inputChangeHandler=function(e){var t=e.target,n=a.state.part.retailPrice,r=t.value,s=parseInt(r)*parseInt(n);a.setState(Object(b.a)({},a.state,{amount:r,totalPrice:s}))},a.postDataHandler=function(e){e.preventDefault();var t={};t.partId=a.state.part.id,t.amount=a.state.amount;var n=a.props.match.params.order,r="/orders/part/"+n;N()({method:"post",url:r,data:t}).then(function(){a.setState({part:{id:"",name:"",description:"",retailPrice:""},amount:"",totalPrice:""})}).then(function(){a.props.history.push("/order/"+n)}).catch(function(e){a.setState(function(){throw e})})},a.getPartByParamsId=function(){N.a.get("/parts/"+a.props.match.params.part).then(function(e){var t=Object(b.a)({},a.state.part);for(var n in e.data){var r=Object(b.a)({},t[n]);r=e.data[n],t[n]=r}a.setState(Object(b.a)({},a.state,{part:t,totalPrice:e.data.retailPrice}))}).catch(function(e){a.setState(function(){throw e})})},document.title="\u0414\u043e\u0434\u0430\u0442\u0438 \u0437\u0430\u043f\u0447\u0430\u0441\u0442\u044c - \u0413 \u0430 \u0440 \u0430 \u0436",console.log(e),a}return Object(O.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.props.match.params.part&&this.getPartByParamsId()}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h2",null," \u0414\u043e\u0434\u0430\u044e \u0437\u0430\u043f\u0447\u0430\u0441\u0442\u044c"),r.a.createElement("hr",null),r.a.createElement("br",null),r.a.createElement("form",{onSubmit:this.postDataHandler},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label input-label"},"\u041d\u0430\u0437\u0432\u0430 \u0437\u0430\u043f\u0447\u0430\u0441\u0442i:"),r.a.createElement("input",{disabled:!0,className:"form-control my-input-field",name:"name",value:this.state.part.name})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label textarea-lable"},"\u041e\u043f\u0438\u0441\u0430\u043di\u0435:"),r.a.createElement("textarea",{className:"my-textarea",disabled:!0,type:"text",name:"description",value:this.state.part.description})),r.a.createElement("div",{className:"form-group "},r.a.createElement("label",{className:"control-label input-label"},"\u0426i\u043d\u0430 \u0437\u0430\u043f\u0447\u0430\u0441\u0442\u0435\u0439:"),r.a.createElement("input",{disabled:!0,className:"form-control my-input-field",type:"number",step:"0.01",min:"0.01",id:"retailPrice",name:"retailPrice",value:this.state.totalPrice?this.state.totalPrice:this.state.part.retailPrice})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label input-label"},"\u041a\u043e\u043bi\u0447\u0435\u0441\u0442\u0432\u043e \u0437\u0430\u043f\u0447\u0430\u0441\u0442\u0435\u0439:"),r.a.createElement("input",{className:"form-control my-input-field",type:"number",step:"1",min:"1",id:"amount",name:"amount",value:this.state.amount,onChange:this.inputChangeHandler})),r.a.createElement("br",null),r.a.createElement("button",{className:"btn btn-info my-button",type:"submit",key:"submit"},"\u0414\u043e\u0434\u0430\u0442\u0438"),r.a.createElement("button",{className:" btn btn-danger my-button",key:"cancel",type:"button",onClick:this.props.history.goBack},"\u041e\u0442\u043c\u0435\u043d\u0430")))}}]),t}(n.Component),se=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(g.a)(this,Object(y.a)(t).call(this,e))).openLink="/ordersOf/open/"+a.props.match.params.car+"/"+a.props.match.params.cust,a.closedLink="/ordersOf/closed/"+a.props.match.params.car+"/"+a.props.match.params.cust,document.title="\u0420\u043e\u0431\u043e\u0442\u0430 - \u0413 \u0430 \u0440 \u0430 \u0436",a}return Object(O.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"\u0417\u0430\u043f\u0447\u0430\u0441\u0442\u044b"),r.a.createElement("div",null,r.a.createElement(m.a,{to:this.openLink},r.a.createElement("button",{className:"btn-info my-button"},"\u041e\u0434\u043a\u0440\u0438\u0442i \u0437\u0430\u043a\u0430\u0437\u0438"))),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(m.a,{to:this.closedLink},r.a.createElement("button",{className:" btn-success my-button "},"\u0417\u0430\u043a\u0440\u0438\u0442i \u0437\u0430\u043a\u0430\u0437\u0438"))))}}]),t}(n.Component),oe=function(e){function t(){return Object(v.a)(this,t),Object(g.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return r.a.createElement("tr",null,r.a.createElement("td",{className:""}," ",this.props.id," "),r.a.createElement("td",{className:""}," ",k.a.format(new Date(this.props.opened),"DD. MM. YYYY. - HH:mm")," "),r.a.createElement("td",{className:"",style:this.props.isClosed?{}:{display:"none"}}," ",k.a.format(new Date(this.props.closed),"DD. MM. YYYY. - HH:mm")," "),r.a.createElement("td",{className:""}," ",this.props.total.toLocaleString(void 0,{maximumFractionDigits:2})),r.a.createElement("td",{className:""}," ",r.a.createElement("button",{onClick:this.props.details},"\u0414\u0435\u0442\u0430\u043bi")," "))}}]),t}(n.Component),le=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(g.a)(this,Object(y.a)(t).call(this,e))).left="<<<",a.right=">>>",a.state={name:"",sorted:"",incoming:[],sortedFilteredList:[],beginDate:"1970-01-01",endDate:"1970-01-01",itemsToShow:10,beginIndex:0,endIndex:10,closedOrders:!1},a.openOrder=function(e){a.props.history.push("/order/"+e)},a.totalToPay=function(e,t,a){var n=0;return n-=a,e.map(function(e){return e.workDone&&(n+=e.price),n}),t.map(function(e){return n+=e.retailPrice*e.amount}),n},a.paginatorLeft=function(){var e=[a.state.beginIndex],t=[a.state.endIndex],n=[a.state.itemsToShow],r=parseInt(e),s=parseInt(t),o=parseInt(n);(r=(s=r)-o)<=0?a.setState(Object(b.a)({},a.state,{beginIndex:0,endIndex:o})):a.setState(Object(b.a)({},a.state,{beginIndex:r,endIndex:s}))},a.paginatorRight=function(){var e=a.state.sortedFilteredList.length,t=[a.state.beginIndex],n=[a.state.endIndex],r=[a.state.itemsToShow],s=parseInt(t),o=parseInt(n),l=parseInt(r),i=parseInt(e);if(s+=l,(o+=l)<=i)a.setState(Object(b.a)({},a.state,{beginIndex:s,endIndex:o}));else if(o>=i&&s<i){var c=[a.state.endIndex],m=parseInt(c);a.setState(Object(b.a)({},a.state,{beginIndex:m,endIndex:i}))}},a.changeListSize=function(e){var t;t=e.target.value;var n=a.state.sortedFilteredList.length,r=[a.state.beginIndex],s=parseInt(n),o=parseInt(r)+parseInt(t);""!==t&&o<s?a.setState(Object(b.a)({},a.state,{itemsToShow:t,endIndex:o})):""!==t&&o>s?a.setState(Object(b.a)({},a.state,{itemsToShow:t,endIndex:s})):a.setState(Object(b.a)({},a.state,{itemsToShow:t}))},a.sortMyList=function(e){var t=Object(R.a)(a.state.sortedFilteredList);if("number"===e&&(""===a.state.sorted||"desc"===a.state.sorted)){var n=t.sort(function(e,t){return e.id>t.id?1:-1});a.setState(Object(b.a)({},a.state,{sorted:"asc",sortedFilteredList:n}))}if("number"===e&&"asc"===a.state.sorted){var r=t.sort(function(e,t){return e.id<t.id?1:-1});a.setState(Object(b.a)({},a.state,{sorted:"desc",sortedFilteredList:r}))}if("close"===e&&(""===a.state.sorted||"desc"===a.state.sorted)){var s=t.sort(function(e,t){return e.orderClosed>t.orderClosed?1:-1});a.setState(Object(b.a)({},a.state,{sorted:"asc",sortedFilteredList:s}))}if("close"===e&&"asc"===a.state.sorted){var o=t.sort(function(e,t){return e.orderClosed<t.orderClosed?1:-1});a.setState(Object(b.a)({},a.state,{sorted:"desc",sortedFilteredList:o}))}},a.setBegindDate=function(e){var t,n=e.target;t=n.value;var r=Object(R.a)(a.state.incoming).filter(function(e){return e.orderOpened>=t&&e.orderOpened<=a.state.endDate+"Z"}),s=[a.state.itemsToShow];a.setState(Object(b.a)({},a.state,{beginDate:t,sortedFilteredList:r,endIndex:r.length<s?r.length:s}))},a.setEndDate=function(e){var t,n=e.target;t=n.value;var r=Object(R.a)(a.state.incoming).filter(function(e){return e.orderOpened>=a.state.beginDate&&e.orderOpened<=t+"Z"}),s=[a.state.itemsToShow];a.setState(Object(b.a)({},a.state,{endDate:t,sortedFilteredList:r,endIndex:r.length<s?r.length:s}))},a.setStateFromResponseForCar=function(e){var t="",n="1970-01-01",r="1970-01-01";0!==e.data.length&&(t=e.data[0].car.carMade,n=e.data[0].orderOpened,r=e.data[e.data.length-1].orderOpened),a.setState({incoming:e.data,sortedFilteredList:e.data,closedOrders:!0,name:t,beginDate:k.a.format(new Date(n),"YYYY-MM-DD"),endDate:k.a.format(new Date(r),"YYYY-MM-DD")})},a.setStateFromResponseForCustomer=function(e){var t="",n="1970-01-01",r="1970-01-01";0!==e.data.length&&(t=e.data[0].customer.firstName+" "+e.data[0].customer.lastName,n=e.data[0].orderOpened,r=e.data[e.data.length-1].orderOpened),a.setState({incoming:e.data,sortedFilteredList:e.data,closedOrders:!0,name:t,beginDate:k.a.format(new Date(n),"YYYY-MM-DD"),endDate:k.a.format(new Date(r),"YYYY-MM-DD")})},a.getClosedOrdersbyCar=function(){N.a.get("/orders/car/closed/"+a.props.match.params.car).then(function(e){a.setStateFromResponseForCar(e)}).catch(function(e){a.setState(function(){throw e})})},a.getOpenedOrdersbyCar=function(){N.a.get("/orders/car/open/"+a.props.match.params.car).then(function(e){a.setStateFromResponseForCar(e)}).catch(function(e){a.setState(function(){throw e})})},a.getClosedOrdersbyCustomer=function(){N.a.get("/orders/customer/closed/"+a.props.match.params.cust).then(function(e){a.setStateFromResponseForCustomer(e)}).catch(function(e){a.setState(function(){throw e})})},a.getOpenedOrdersbyCustomer=function(){N.a.get("/orders/customer/open/"+a.props.match.params.cust).then(function(e){a.setStateFromResponseForCustomer(e)}).catch(function(e){a.setState(function(){throw e})})},document.title="\u0417\u0430\u043a\u0430\u0437\u0438 - \u0413 \u0430 \u0440 \u0430 \u0436",a}return Object(O.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){"open"===this.props.match.params.state?"x"===this.props.match.params.car?this.getOpenedOrdersbyCustomer():this.getOpenedOrdersbyCar():"closed"===this.props.match.params.state&&("x"===this.props.match.params.car?this.getClosedOrdersbyCustomer():this.getClosedOrdersbyCar())}},{key:"render",value:function(){var e=this,t=this.state.sortedFilteredList.slice(this.state.beginIndex,this.state.endIndex).map(function(t){return r.a.createElement(oe,{key:t.id,id:t.id,opened:t.orderOpened,closed:t.orderClosed,details:function(){return e.openOrder(t.id)},isClosed:e.state.closedOrders,total:e.totalToPay(t.works,t.partCounts,t.amountPayedInAdvance)})}),a=r.a.createElement("table",{border:"1"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"",onClick:function(){return e.sortMyList("number")}},"\u041d\u043e\u043c\u0435\u0440 \u21c5"),r.a.createElement("th",{className:""},"\u041e\u0434\u043a\u0440\u0438\u0442\u0438\u0439 "),r.a.createElement("th",{className:"",onClick:function(){return e.sortMyList("close")},style:this.state.closedOrders?{}:{display:"none"}},"\u0417\u0430\u043a\u0440\u0438\u0442\u0438\u0439 \u21c5"),r.a.createElement("th",{className:""},this.state.closedOrders?"\u041e\u043f\u043b\u0430\u0447\u0435\u043d\u043e":"\u0414\u043e\u0432\u0433"," "),r.a.createElement("th",{className:""},"\u0414\u0435\u0442\u0430\u043bi"))),r.a.createElement("tbody",null,t));return r.a.createElement("div",null,r.a.createElement("h2",null," ","open"===this.props.match.params.state?"\u041e\u0434\u043a\u0440\u0438\u0442i":"\u0417\u0430\u043a\u0440\u0438\u0442i","  \u0437\u0430\u043a\u0430\u0437\u0438 ",this.state.name),r.a.createElement("hr",null),r.a.createElement("br",null),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",null,r.a.createElement("strong",null,"       "),r.a.createElement("label",{className:"control-label input-search-label"},"\u041f\u043e\u043a\u0430\u0437\u0443\u0432\u0430\u0442\u0438:"),r.a.createElement("input",{className:"form-control my-input-paginator-field ",name:"itemsToShow",type:"number",min:"1",step:"1",value:this.state.itemsToShow,onChange:this.changeListSize})),r.a.createElement("div",null,r.a.createElement("label",{className:"control-label"},"\u041e\u0434\u043a\u0440\u0438\u0442i \u043ci\u0436 : "),r.a.createElement("input",{className:"form-control my-input-search-field-3",name:"from",type:"date","date-inline-picker":"true",value:this.state.beginDate,onChange:this.setBegindDate,placeholder:"from"}),r.a.createElement("strong",null,"       "),r.a.createElement("label",{className:"control-label"},"i :"),r.a.createElement("input",{className:"form-control my-input-search-field-4",name:"till",type:"date",value:this.state.endDate,onChange:this.setEndDate,placeholder:"till"}))),a,r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("strong",{onClick:this.paginatorLeft},this.left,"     "),r.a.createElement("strong",null,this.state.beginIndex+1," - ",this.state.endIndex),r.a.createElement("strong",{onClick:this.paginatorRight},"     ",this.right),r.a.createElement("br",null)))}}]),t}(n.Component),ie=function(e){function t(e){var a;return Object(v.a)(this,t),a=Object(g.a)(this,Object(y.a)(t).call(this,e)),document.title="\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043bi - \u0413 \u0430 \u0440 \u0430 \u0436",a}return Object(O.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043bi"),r.a.createElement("div",null,r.a.createElement(m.a,{to:"/addUser"},r.a.createElement("button",{className:"btn-success my-button"},"\u0421\u0432\u0442\u043e\u0440\u0438\u0442\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"))),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(m.a,{to:"/userList"},r.a.createElement("button",{className:"btn-success my-button"},"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e"))))}}]),t}(n.Component),ce=a(72),me=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(g.a)(this,Object(y.a)(t).call(this,e))).state={newUserForm:{name:{value:"",isValid:!0,message:""},password:{value:"",isValid:!0,message:""},role:{value:"",isValid:!0,message:""}},roles:[]},a.postDataHandler=function(e){e.preventDefault();var t={};for(var n in a.state.newUserForm)t[n]=a.state.newUserForm[n].value;var r="/users",s="post",o=a.props.match.params.id;o&&(r+="/"+o,s="put"),N()({method:s,url:r,data:t}).then(function(){a.setState({newUserForm:{id:{value:""},name:{value:"",isValid:!0,message:""},password:{value:"",isValid:!0,message:""},role:{value:"",isValid:!0,message:""}}})}).then(function(){a.props.history.push("/userList"),setTimeout(a.hideMessage,1500)}).catch(function(e){e.response.data.hasOwnProperty("fieldErrors")?a.validationHandler(e):a.setState(function(){throw e})})},a.hideMessage=function(){},a.validationHandler=function(e){var t=Object(b.a)({},a.state.newUserForm);for(var n in a.state.newUserForm){var r=Object(b.a)({},t[n]);r.isValid=!0,r.message="",t[n]=r}if(e.response.data.hasOwnProperty("fieldErrors")){var s=!0,o=!1,l=void 0;try{for(var i,c=e.response.data.fieldErrors[Symbol.iterator]();!(s=(i=c.next()).done);s=!0){var m=i.value,d=Object(b.a)({},t[m.field]);d.isValid=!1,d.message=m.message,t[m.field]=d}}catch(u){o=!0,l=u}finally{try{s||null==c.return||c.return()}finally{if(o)throw l}}a.setState(Object(b.a)({},a.state,{newUserForm:t}))}else a.setState(Object(b.a)({},a.state,{newUserForm:{name:{value:"",isValid:!1,message:"Please don't mess with my input fields"}}}))},a.inputChangedHandler=function(e){var t=e.target,n=Object(b.a)({},a.state.newUserForm);n[t.name].value=t.value,a.setState({newUserForm:n})},a.getUserByParamsId=function(){N.a.get("/users/"+a.props.match.params.id).then(function(e){var t=Object(b.a)({},a.state.newUserForm);for(var n in e.data){var r=Object(b.a)({},t[n]);r.value=e.data[n],t[n]=r}a.setState(Object(b.a)({},a.state,{newUserForm:t}))}).catch(function(e){a.setState(function(){throw e})})},document.title="\u041d\u043e\u0432\u0438\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c - \u0413 \u0430 \u0440 \u0430 \u0436",a}return Object(O.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.match.params.id&&(N.a.get("/users/roles").then(function(t){e.setState({roles:t.data})}),this.getUserByParamsId())}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h2",null," ",null!=this.props.match.params.id?"\u0417\u043ci\u043d\u0438\u0442\u0438":"\u041d\u043e\u0432\u0438\u0439","  \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c",null!=this.props.match.params.id?"\u0430":""," "),r.a.createElement("hr",null),r.a.createElement("br",null),r.a.createElement("form",{onSubmit:this.postDataHandler},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:this.state.newUserForm.name.isValid?"control-label input-label":"control-label input-label invalid-label"},"\u041b\u043e\u043di\u043d:"),r.a.createElement("input",{className:this.state.newUserForm.name.isValid?"form-control my-input-field":"form-control my-input-field is-invalid",name:"name",value:this.state.newUserForm.name.value,onChange:this.inputChangedHandler}),r.a.createElement("span",{className:"form-text invalid-feedback"},this.state.newUserForm.name.message)),r.a.createElement("div",{className:"form-group",style:this.props.match.params.id?{display:"none"}:{}},r.a.createElement("label",{className:this.state.newUserForm.password.isValid?"control-label textarea-lable":"control-label input-label invalid-label"},"\u041f\u0430\u0440\u043e\u043b\u044c:"),r.a.createElement("input",{className:this.state.newUserForm.password.isValid?"form-control my-input-field":"form-control my-input-field is-invalid",type:"password",name:"password",value:this.state.newUserForm.password.value,onChange:this.inputChangedHandler}),r.a.createElement("span",{className:"form-text invalid-feedback"},this.state.newUserForm.password.message)),r.a.createElement("div",{className:"form-group ",style:this.props.match.params.id?{}:{display:"none"}},r.a.createElement("label",{className:this.state.newUserForm.role.isValid?"control-label input-label":"control-label input-label invalid-label"},"\u041f\u0440\u0430\u0432\u0430:"),r.a.createElement("select",{name:"role",value:this.state.newUserForm.role.value,onChange:this.inputChangedHandler,className:"my-input-field"},Object.entries(this.state.roles).map(function(e){var t=Object(ce.a)(e,2),a=t[0],n=t[1];return r.a.createElement("option",{key:a,value:a},n)})),r.a.createElement("span",{className:"form-text invalid-feedback"},this.state.newUserForm.role.message)),r.a.createElement("br",null),r.a.createElement("button",{className:"btn btn-info my-button",type:"submit",key:"submit"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u0438"),r.a.createElement("button",{className:" btn btn-danger my-button",key:"cancel",type:"button",onClick:this.props.history.goBack},"\u041e\u0442\u043c\u0435\u043d\u0430")))}}]),t}(n.Component),de=function(e){function t(){return Object(v.a)(this,t),Object(g.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return r.a.createElement("tr",null,r.a.createElement("td",{className:""},this.props.name),r.a.createElement("td",{className:""},"ROLE_ADMIN"===this.props.role?"\u0430\u0434\u043ci\u043d":"\u043c\u0430\u0439\u0441\u0442\u0435\u0440"),r.a.createElement("td",{className:"",style:void 0===this.props.workId?{}:{display:"none"}},"  ",r.a.createElement("button",{onClick:this.props.edit},"I\u0437\u043ci\u043d\u0438\u0442\u0438")," "),r.a.createElement("td",{className:"",style:void 0===this.props.workId?{}:{display:"none"}},"  ",r.a.createElement("button",{onClick:this.props.delete},"\u0443\u0434\u0430\u043b\u0438\u0442\u0438")," "),r.a.createElement("td",{className:"",style:void 0===this.props.workId?{display:"none"}:{}},"  ",r.a.createElement("button",{onClick:this.props.select},"\u0432\u0438\u0431\u0440\u0430\u0442\u0438")," "),r.a.createElement("td",{className:"",style:void 0===this.props.workId?{}:{display:"none"}},"  ",r.a.createElement("button",{onClick:this.props.report},"\u043e\u0442\u0447\u043e\u0442")," "))}}]),t}(n.Component),ue=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(g.a)(this,Object(y.a)(t).call(this,e))).left="<<<",a.right=">>>",a.state={sorted:"",incoming:[],sortedFilteredList:[],fileteredBy:"",itemsToShow:5,beginIndex:0,endIndex:5},a.editUser=function(e){a.props.history.push("/editUser/"+e)},a.deleteUser=function(e){N.a.delete("/users/"+e).then(function(e){a.setState({incoming:e.data,sortedFilteredList:e.data})}).catch(function(e){a.setState(function(){throw e})})},a.selectUser=function(e){N.a.post("/users/"+e+"/"+a.props.match.params.id).then(function(){a.props.history.push("/order/"+a.props.match.params.order)}).catch(function(e){a.setState(function(){throw e})})},a.reportOfUser=function(e){console.log("report "+e)},a.sortMyList=function(e){var t=Object(R.a)(a.state.sortedFilteredList);if("name"===e&&(""===a.state.sorted||"desc"===a.state.sorted)){var n=t.sort(function(e,t){return e.name.toLowerCase()>t.name.toLowerCase()?1:-1});a.setState(Object(b.a)({},a.state,{sorted:"asc",sortedFilteredList:n}))}if("name"===e&&"asc"===a.state.sorted){var r=t.sort(function(e,t){return e.name.toLowerCase()<t.name.toLowerCase()?1:-1});a.setState(Object(b.a)({},a.state,{sorted:"desc",sortedFilteredList:r}))}if("role"===e&&(""===a.state.sorted||"desc"===a.state.sorted)){var s=t.sort(function(e,t){return e.role>t.role?1:-1});a.setState(Object(b.a)({},a.state,{sorted:"asc",sortedFilteredList:s}))}if("role"===e&&"asc"===a.state.sorted){var o=t.sort(function(e,t){return e.role<t.role?1:-1});a.setState(Object(b.a)({},a.state,{sorted:"desc",sortedFilteredList:o}))}},a.filterMyListByName=function(e){var t,n=e.target;t=n.value;var r=Object(R.a)(a.state.incoming).filter(function(e){return e.name.includes(t)||e.name.toLowerCase().includes(t)||e.name.toUpperCase().includes(t)}),s=[a.state.itemsToShow];a.setState(Object(b.a)({},a.state,{fileteredBy:t,sortedFilteredList:r,endIndex:r.length<s?r.length:s}))},a.changeListSize=function(e){var t;t=e.target.value;var n=a.state.sortedFilteredList.length,r=[a.state.beginIndex],s=parseInt(n),o=parseInt(r)+parseInt(t);""!==t&&o<s?a.setState(Object(b.a)({},a.state,{itemsToShow:t,endIndex:o})):""!==t&&o>s?a.setState(Object(b.a)({},a.state,{itemsToShow:t,endIndex:s})):a.setState(Object(b.a)({},a.state,{itemsToShow:t}))},a.paginatorLeft=function(){var e=[a.state.beginIndex],t=[a.state.endIndex],n=[a.state.itemsToShow],r=parseInt(e),s=parseInt(t),o=parseInt(n);(r=(s=r)-o)<=0?a.setState(Object(b.a)({},a.state,{beginIndex:0,endIndex:o})):a.setState(Object(b.a)({},a.state,{beginIndex:r,endIndex:s}))},a.paginatorRight=function(){var e=a.state.sortedFilteredList.length,t=[a.state.beginIndex],n=[a.state.endIndex],r=[a.state.itemsToShow],s=parseInt(t),o=parseInt(n),l=parseInt(r),i=parseInt(e);if(s+=l,(o+=l)<=i)a.setState(Object(b.a)({},a.state,{beginIndex:s,endIndex:o}));else if(o>=i&&s<i){var c=[a.state.endIndex],m=parseInt(c);a.setState(Object(b.a)({},a.state,{beginIndex:m,endIndex:i}))}},a.getUsers=function(){N.a.get("/users").then(function(e){a.setState({incoming:e.data,sortedFilteredList:e.data})}).catch(function(e){a.setState(function(){throw e})})},document.title="\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043bi - \u0413 \u0430 \u0440 \u0430 \u0436",a}return Object(O.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.getUsers()}},{key:"render",value:function(){var e=this,t=this.state.sortedFilteredList.slice(this.state.beginIndex,this.state.endIndex).map(function(t){return r.a.createElement(de,{key:t.id,name:t.name,role:t.role,edit:function(){return e.editUser(t.id)},delete:function(){return e.deleteUser(t.id)},select:function(){return e.selectUser(t.id)},report:function(){return e.reportOfUser(t.id)},workId:e.props.match.params.id})}),a=r.a.createElement("table",{border:"1"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"",onClick:function(){return e.sortMyList("name")}},"I\u043c\u044f \u21c5"),r.a.createElement("th",{className:"",onClick:function(){return e.sortMyList("role")}},"\u043f\u0440\u0430\u0432\u0430 \u21c5"),r.a.createElement("th",{className:"",style:this.props.match.params.id?{display:"none"}:{}},"I\u0437\u043ci\u043d\u0438\u0442\u0438 "),r.a.createElement("th",{className:"",style:this.props.match.params.id?{display:"none"}:{}},"\u0443\u0434\u0430\u043b\u0438\u0442\u0438"),r.a.createElement("th",{className:"",style:this.props.match.params.id?{}:{display:"none"}},"\u0432\u0438\u0431\u0440\u0430\u0442\u0438"),r.a.createElement("th",{className:"",style:this.props.match.params.id?{display:"none"}:{}},"\u043e\u0442\u0447\u043e\u0442"))),r.a.createElement("tbody",null,t));return r.a.createElement("div",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("div",null,r.a.createElement("input",{className:"form-control my-input-search-field",name:"fileteredBy",value:this.state.fileteredByVin,onChange:this.filterMyListByName,placeholder:"Find By login"}),r.a.createElement("strong",null,"       "),r.a.createElement("label",{className:"control-label input-search-label"},"\u041f\u043e\u043a\u0430\u0437\u0443\u0432\u0430\u0442\u0438:"),r.a.createElement("input",{className:"form-control my-input-paginator-field ",name:"itemsToShow",type:"number",min:"1",step:"1",value:this.state.itemsToShow,onChange:this.changeListSize}))),a,r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("strong",{onClick:this.paginatorLeft},this.left,"     "),r.a.createElement("strong",null,this.state.beginIndex+1," - ",this.state.endIndex),r.a.createElement("strong",{onClick:this.paginatorRight},"     ",this.right),r.a.createElement("br",null)))}}]),t}(n.Component),pe=function(e){function t(e){var a;return Object(v.a)(this,t),a=Object(g.a)(this,Object(y.a)(t).call(this,e)),document.title="\u041c\u043e\u044f \u0441\u0442\u043e\u0440i\u043d\u043a\u0430 - \u0413 \u0430 \u0440 \u0430 \u0436",a}return Object(O.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=JSON.parse(localStorage.getItem("user"));return r.a.createElement("div",null,r.a.createElement("h1",null,"\u041c\u043e\u044f \u0441\u0442\u043e\u0440i\u043d\u043a\u0430 - ",e.name),r.a.createElement("div",null,r.a.createElement(m.a,{to:"/changePassword"},r.a.createElement("button",{className:"btn-success my-button"},"\u0417\u043ci\u043d\u0438\u0442\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"))),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(m.a,{to:"/"},r.a.createElement("button",{className:"btn-success my-button"},"\u0417\u0440\u043e\u0431\u043b\u0435\u043di \u0440\u043e\u0431\u043e\u0442\u0438"))))}}]),t}(n.Component),he=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(g.a)(this,Object(y.a)(t).call(this,e))).state={changePasswordForm:{oldPassword:{value:"",isValid:!0,message:""},newPasswordCheck:{value:"",isValid:!0,message:""},newPassword:{value:"",isValid:!0,message:""}}},a.inputChangeHandler=function(e){var t,n=e.target,r=Object(b.a)({},a.state.changePasswordForm),s=Object(b.a)({},r[n.name]);t=n.value,s.value=t,s.isValid=!0,r[n.name]=s,a.setState(Object(b.a)({},a.state,{changePasswordForm:r}))},a.checkIfPasswordsMatch=function(){var e=Object(b.a)({},a.state.changePasswordForm.newPasswordCheck),t=Object(b.a)({},a.state.changePasswordForm.newPassword);if(e.value===t.value)return!0;a.setState({changePasswordForm:{oldPassword:{value:"",isValid:!0,message:""},newPasswordCheck:{value:"",isValid:!1,message:"\u041f\u0430\u0440\u043e\u043bi \u043d\u0435 \u043f\u043e\u0445\u043e\u0436i"},newPassword:{value:"",isValid:!1,message:"\u041f\u0430\u0440\u043e\u043bi \u043d\u0435 \u043f\u043e\u0445\u043e\u0436i"}}})},a.postDataHandler=function(e){e.preventDefault(),a.checkIfPasswordsMatch()&&a.postData()},a.postData=function(){var e={};for(var t in a.state.changePasswordForm)e[t]=a.state.changePasswordForm[t].value;N()({method:"post",url:"/users/password",data:e}).then(function(){a.setState({changePasswordForm:{oldPassword:{value:"",isValid:!0,message:""},newPasswordCheck:{value:"",isValid:!0,message:""},newPassword:{value:"",isValid:!0,message:""}}})}).then(function(){a.props.history.push("/logout")}).catch(function(e){e.response.data.hasOwnProperty("fieldErrors")?a.validationHandler(e):a.setState(function(){throw e})})},a.validationHandler=function(e){var t=Object(b.a)({},a.state.changePasswordForm);for(var n in a.state.changePasswordForm){var r=Object(b.a)({},t[n]);r.isValid=!0,r.message="",t[n]=r}if(e.response.data.hasOwnProperty("fieldErrors")){var s=!0,o=!1,l=void 0;try{for(var i,c=e.response.data.fieldErrors[Symbol.iterator]();!(s=(i=c.next()).done);s=!0){var m=i.value,d=Object(b.a)({},t[m.field]);d.isValid=!1,d.message=m.message,t[m.field]=d}}catch(u){o=!0,l=u}finally{try{s||null==c.return||c.return()}finally{if(o)throw l}}a.setState(Object(b.a)({},a.state,{changePasswordForm:t}))}else a.setState(Object(b.a)({},a.state,{changePasswordForm:{oldPassword:{value:"",isValid:!1,message:"Please don't mess with my input fields"}}}))},document.title="\u041d\u043e\u0432\u0430 \u041c\u0430\u0448\u0438\u043d\u0430 - \u0413 \u0430 \u0440 \u0430 \u0436",a}return Object(O.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=JSON.parse(localStorage.getItem("user"));return r.a.createElement("div",{className:"container"},r.a.createElement("h2",null," \u0417\u043ci\u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u044f \u0434\u043b\u044f ",e.name),r.a.createElement("hr",null),r.a.createElement("br",null),r.a.createElement("form",{onSubmit:this.postDataHandler},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:this.state.changePasswordForm.oldPassword.isValid?"control-label input-label":"control-label input-label invalid-label"},"\u0421\u0442\u0430\u0440\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c:"),r.a.createElement("input",{className:this.state.changePasswordForm.oldPassword.isValid?"form-control my-input-field":"form-control my-input-field is-invalid",name:"oldPassword",type:"password",value:this.state.changePasswordForm.oldPassword.value,onChange:this.inputChangeHandler}),r.a.createElement("span",{className:"form-text invalid-feedback"},this.state.changePasswordForm.oldPassword.message)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:this.state.changePasswordForm.newPasswordCheck.isValid?"control-label input-label":"control-label input-label invalid-label"},"\u041d\u043e\u0432\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c:"),r.a.createElement("input",{className:this.state.changePasswordForm.newPasswordCheck.isValid?"form-control my-input-field":"form-control my-input-field is-invalid",name:"newPasswordCheck",type:"password",value:this.state.changePasswordForm.newPasswordCheck.value,onChange:this.inputChangeHandler}),r.a.createElement("span",{className:"form-text invalid-feedback"},this.state.changePasswordForm.newPasswordCheck.message)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:this.state.changePasswordForm.newPassword.isValid?"control-label input-label":"control-label input-label invalid-label"},"\u041d\u043e\u0432\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c \u0449\u0435 \u0440\u0430\u0437:"),r.a.createElement("input",{className:this.state.changePasswordForm.newPassword.isValid?"form-control my-input-field":"form-control my-input-field is-invalid",name:"newPassword",type:"password",value:this.state.changePasswordForm.newPassword.value,onChange:this.inputChangeHandler}),r.a.createElement("span",{className:"form-text invalid-feedback"},this.state.changePasswordForm.newPassword.message)),r.a.createElement("br",null),r.a.createElement("button",{className:"btn btn-info my-button",type:"submit",key:"submit"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u0438"),r.a.createElement("button",{className:" btn btn-danger my-button",key:"cancel",type:"button",onClick:this.props.history.goBack},"\u041e\u0442\u043c\u0435\u043d\u0430")))}}]),t}(n.Component),be=function(){var e=JSON.parse(localStorage.getItem("user"));return r.a.createElement("div",null,localStorage.user?"ROLE_ADMIN"===e.role?r.a.createElement(p,{user:e.name}):r.a.createElement(h,{user:e.name}):r.a.createElement(u,null),r.a.createElement("div",{className:"page_content container"},r.a.createElement(i.a,null,localStorage.user?"ROLE_ADMIN"===e.role?r.a.createElement(T,{path:"/",exact:!0,component:I}):r.a.createElement(V,{path:"/",exact:!0,component:P}):r.a.createElement(c.a,{path:"/",exact:!0,component:j}),r.a.createElement(c.a,{path:"/login",exact:!0,component:j}),r.a.createElement(c.a,{path:"/logout",exact:!0,component:x}),r.a.createElement(V,{path:"/mainPage",exact:!0,component:P}),r.a.createElement(T,{path:"/addPart",exact:!0,component:W}),r.a.createElement(T,{path:"/editPart/:id",exact:!0,component:W}),r.a.createElement(T,{path:"/partsPage",exact:!0,component:B}),r.a.createElement(T,{path:"/partsList",exact:!0,component:U}),r.a.createElement(V,{path:"/addParts/:id",exact:!0,component:U}),r.a.createElement(V,{path:"/addCarPartCout/:order/:part",exact:!0,component:re}),r.a.createElement(V,{path:"/customerList",exact:!0,component:_}),r.a.createElement(V,{path:"/customerList/:car",exact:!0,component:_}),r.a.createElement(V,{path:"/customersPage",exact:!0,component:Y}),r.a.createElement(V,{path:"/newCustomer",exact:!0,component:F}),r.a.createElement(T,{path:"/editCustomer/:id",exact:!0,component:F}),r.a.createElement(V,{path:"/creatingCustomer/:car",exact:!0,component:F}),r.a.createElement(V,{path:"/newOrder",exact:!0,component:J}),r.a.createElement(V,{path:"/newOrder/:cust/:car",exact:!0,component:J}),r.a.createElement(V,{path:"/order/:id",exact:!0,component:ee}),r.a.createElement(V,{path:"/openOrder/:car/:cust",exact:!0,component:se}),r.a.createElement(V,{path:"/ordersOf/:state/:car/:cust",exact:!0,component:le}),r.a.createElement(V,{path:"/carsPage",exact:!0,component:q}),r.a.createElement(V,{path:"/addCar",exact:!0,component:Z}),r.a.createElement(T,{path:"/editCar/:id",exact:!0,component:Z}),r.a.createElement(V,{path:"/carList",exact:!0,component:K}),r.a.createElement(V,{path:"/carList/:cust",exact:!0,component:K}),r.a.createElement(V,{path:"/creatingCar/:cust",exact:!0,component:Z}),r.a.createElement(T,{path:"/worksPage",exact:!0,component:te}),r.a.createElement(T,{path:"/addWork",exact:!0,component:ae}),r.a.createElement(T,{path:"/editWork/:id",exact:!0,component:ae}),r.a.createElement(T,{path:"/worksList",exact:!0,component:ne}),r.a.createElement(V,{path:"/addWorkToOrder/:id",exact:!0,component:ne}),r.a.createElement(T,{path:"/usersPage",exact:!0,component:ie}),r.a.createElement(T,{path:"/addUser",exact:!0,component:me}),r.a.createElement(T,{path:"/editUser/:id",exact:!0,component:me}),r.a.createElement(T,{path:"/userList",exact:!0,component:ue}),r.a.createElement(T,{path:"/changeUser/:id/:order",exact:!0,component:ue}),r.a.createElement(V,{path:"/myPage",exact:!0,component:pe}),r.a.createElement(V,{path:"/changePassword",exact:!0,component:he}),r.a.createElement(c.a,{render:function(){return r.a.createElement(d,{text:"There is no page for this URL"})}}))),r.a.createElement("footer",{style:{textAlign:"left"}},r.a.createElement("hr",null)," \xa9Imre"))},fe=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(g.a)(this,Object(y.a)(t).call(this,e))).state={hasError:!1},a}return Object(O.a)(t,e),Object(E.a)(t,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0,text:e.message})}},{key:"render",value:function(){return this.state.hasError?r.a.createElement(d,{text:this.state.text}):this.props.children}}]),t}(r.a.Component),ve=function(){return r.a.createElement(l.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(fe,null,r.a.createElement(be,null))))};N.a.defaults.baseURL="http://192.168.1.32:3030/",N.a.defaults.withCredentials=!0,o.a.render(r.a.createElement(ve,null),document.getElementById("root"))},16:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},73:function(e,t,a){e.exports=a(116)},79:function(e,t,a){},80:function(e,t,a){}},[[73,1,2]]]);
//# sourceMappingURL=main.00623e70.chunk.js.map